window.__require=function t(e,o,n){function i(r,c){if(!o[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var p=o[r]={exports:{}};e[r][0].call(p.exports,function(t){return i(e[r][1][t]||t)},p,p.exports,t,e,o,n)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({ActionBase:[function(t,e,o){"use strict";cc._RF.push(e,"dcc88OYgiRFf5gfIf1VKFXd","ActionBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_ActionBaseType=void 0;var r,c=cc._decorator,s=c.ccclass,l=c.property;(function(t){t[t.None=0]="None",t[t.M_2D=1]="M_2D",t[t.S_Scale=2]="S_Scale",t[t.R_Rotate_Normal=3]="R_Rotate_Normal",t[t.S_Scale_Delay=4]="S_Scale_Delay"})(r=o.E_ActionBaseType||(o.E_ActionBaseType={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.None,e.len=20,e.scale_max=1.2,e.scale_min=1,e.clockwise=!0,e.speed=100,e.delayTime=.1,e.isPlayedOnLoad=!1,e._initPos=new cc.Vec2(0,0),e._initScale=new cc.Vec2(0,0),e._aimScale_min=new cc.Vec2(0,0),e._aimScale_max=new cc.Vec2(0,0),e}return i(e,t),e.prototype.onLoad=function(){this._initPos=cc.v2(this.node.x,this.node.y),this._initScale=cc.v2(this.node.scaleX,this.node.scaleY)},e.prototype.start=function(){this.isPlayedOnLoad&&this.act()},e.prototype.act=function(){switch(this.type){case r.M_2D:this.handleU2D();break;case r.S_Scale:this.handleS_Scale();break;case r.S_Scale_Delay:this.handleS_Scale_Delay();break;case r.R_Rotate_Normal:this.handleR_Rotate_Normal()}},e.prototype.handleU2D=function(){var t=this.len/this.speed,e=cc.moveBy(t,0,-this.len),o=cc.moveBy(t,0,this.len),n=cc.sequence(e,o),i=cc.repeatForever(n);this.node.runAction(i)},e.prototype.handleS_Scale=function(){this._aimScale_max=cc.v2(this._initScale.x*this.scale_max,this._initScale.y*this.scale_max),this._aimScale_min=cc.v2(this._initScale.x*this.scale_min,this._initScale.y*this.scale_min);var t=(this._aimScale_max.x-this._initScale.x)/(this._aimScale_max.x-this._aimScale_min.x)*this.speed,e=cc.scaleTo(t,this._aimScale_max.x,this._aimScale_max.y),o=cc.scaleTo(this.speed,this._aimScale_min.x,this._aimScale_min.y),n=cc.scaleTo(this.speed-t,this._initScale.x,this._initScale.y),i=cc.sequence(e,o,n),a=cc.repeatForever(i);this.node.runAction(a)},e.prototype.handleS_Scale_Delay=function(){this._aimScale_max=cc.v2(this._initScale.x*this.scale_max,this._initScale.y*this.scale_max),this._aimScale_min=cc.v2(this._initScale.x*this.scale_min,this._initScale.y*this.scale_min);var t=(this._aimScale_max.x-this._initScale.x)/(this._aimScale_max.x-this._aimScale_min.x)*this.speed;cc.tween(this.node).repeatForever(cc.tween().to(t,{scaleX:this._aimScale_max.x,scaleY:this._aimScale_max.y}).to(this.speed,{scaleX:this._aimScale_min.x,scaleY:this._aimScale_min.y},{easing:"sineInOut"}).delay(this.delayTime).to(this.speed-t,{scaleX:this._initScale.x,scaleY:this._initScale.y})).start()},e.prototype.handleR_Rotate_Normal=function(){var t=cc.rotateBy(this.speed,-360);this.clockwise&&(t=cc.rotateBy(this.speed,360));var e=cc.repeatForever(t);this.node.runAction(e)},a([l({type:cc.Enum(r)})],e.prototype,"type",void 0),a([l({visible:function(){return this.type==r.M_2D}})],e.prototype,"len",void 0),a([l({visible:function(){return this.type==r.S_Scale||this.type==r.S_Scale_Delay}})],e.prototype,"scale_max",void 0),a([l({visible:function(){return this.type==r.S_Scale||this.type==r.S_Scale_Delay}})],e.prototype,"scale_min",void 0),a([l({visible:function(){return this.type==r.R_Rotate_Normal}})],e.prototype,"clockwise",void 0),a([l({tooltip:"the distance traveled in one second",visible:function(){return this.type==r.M_2D||this.type==r.S_Scale||this.type==r.S_Scale_Delay||this.type==r.R_Rotate_Normal}})],e.prototype,"speed",void 0),a([l({visible:function(){return this.type==r.S_Scale_Delay}})],e.prototype,"delayTime",void 0),a([l],e.prototype,"isPlayedOnLoad",void 0),a([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],AdChuanYin:[function(t,e,o){"use strict";cc._RF.push(e,"8aba4zHggdBlIX8AuqosE77","AdChuanYin");var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./AdEvent"),a=cc._decorator.ccclass,r=function(){function t(){this._gameId=660730283,this._bannerId="503498176",this._interstitialId="194723805",this._videoId="327981064",this._banner={},this._interstitialAd={},this._videoAd={},this._bannerLoadTimes=0,this.bannerLoaded=!1,this._interstitialLoadTimes=0,this.interstitialAdLoaded=!1,this._videoLoadTimes=0,this.videoAdLoaded=!1,this._isVideoPlayed=!1,this.isBannering=!1}return t.prototype.init=function(){console.log(".adChuanYin.init."),window.adInit({banner_id:this._bannerId,interstitial_id:this._interstitialId,reward_id:this._videoId,debug_mode:!0,test_device_id:"519B8E5DF9D07E5A897EA3B5766EE1CB",banner_location:2,success:this.onInit.bind(this)})},t.prototype.onInit=function(){this.bannerLoaded=!0,this.interstitialAdLoaded=!0,this.videoAdLoaded=!0,i.default.I.handleEvent(i.E_ADEventType.banner_load_over),console.log("ad chuanyin init succ")},t.prototype.createBannerAd=function(){},t.prototype.showBannerAd=function(){this.bannerLoaded?window.adShow({ad_type:1,success:function(t){console.log("banner show succ, res = ",t)},fail:function(t){console.log("banner show fail, res = ",t)}}):console.log("this._banner 未加载成功")},t.prototype.hideBannerAd=function(){},t.prototype.isLoad_banner=function(){return this.bannerLoaded},t.prototype.isPreLoad_banner=function(){return!0},t.prototype.createInterstitialAd=function(){},t.prototype.showInterstitialAd=function(){this.interstitialAdLoaded?window.adShow({ad_type:2,success:function(t){console.log("intersittial show succ",t),10001==t&&i.default.I.handleEvent(i.E_ADEventType.interstitial_showOver)},fail:function(t){console.log("intersittial show fail",t),i.default.I.handleEvent(i.E_ADEventType.interstitial_showFail)}}):console.log("this._interstitialAd 广告未加载成功")},t.prototype.isLoad_interstitial=function(){return this.interstitialAdLoaded},t.prototype.isPreLoad_interstitial=function(){return!0},t.prototype.createRewardedVideoAd=function(){},t.prototype.showRewardedVideoAd=function(){this._isVideoPlayed=!1,this.videoAdLoaded?window.adShow({ad_type:3,success:function(t){console.log("video show succ res = ",t),10002==t&&(console.log("handleSucc"),i.default.I.handleEvent(i.E_ADEventType.video_showOver))},fail:function(t){console.log("video show fail res = ",t),i.default.I.handleEvent(i.E_ADEventType.video_showFail)}}):console.log("rewardedvideoAd 视频广告未加载成功")},t.prototype.isLoad_rewarded=function(){return this.videoAdLoaded},t.prototype.isPreLoad_rewarded=function(){return!0},n([a],t)}();o.default=r,cc._RF.pop()},{"./AdEvent":"AdEvent"}],AdCocosH5:[function(t,e,o){"use strict";cc._RF.push(e,"8f2f3/CWk5K4Z4t/u9HTkMX","AdCocosH5");var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./AdEvent"),a=cc._decorator.ccclass,r=function(){function t(){this._gameId=692038412,this._bannerId="786032594",this._interstitialId="47521693",this._videoId="512608493",this._banner={},this._interstitialAd={},this._videoAd={},this._bannerLoadTimes=0,this.bannerLoaded=!1,this._interstitialLoadTimes=0,this.interstitialAdLoaded=!1,this._videoLoadTimes=0,this.videoAdLoaded=!1,this._isVideoPlayed=!1,this.isBannering=!1,this._adImg=null}var e;return e=t,Object.defineProperty(t,"I",{get:function(){return e._I||(e._I=new e),e._I},enumerable:!1,configurable:!0}),t.prototype.firstLoad=function(){this.createBannerAd(),this.createInterstitialAd(),this.createRewardedVideoAd(),this.createImgAd()},t.prototype.init=function(){window.GameSDK.setOnInitCB(this.onInit.bind(this)),window.GameSDK.init(this._gameId)},t.prototype.onInit=function(t){console.log("onInit:","userId "+t.userId+" nickName "+t.nickName+" headUrl "+t.headUrl+" age "+t.age),window.AdSDK.initAdSense({userId:t.userId,gameId:this._gameId}),this.firstLoad()},t.prototype.quit=function(){window.GameSDK.quit(1)},t.prototype.pay=function(){window.GameSDK.pay(+new Date,"钻石","钻石恒久远，一颗永流传",1,"支付","支付付款通知地址")},t.prototype.onPay=function(t){console.log("onPay:"," result "+t.result+" message "+t.message)},t.prototype.setScreenLandescape=function(){window.GameSDK.setOrientation(0)},t.prototype.setScreenPortrait=function(){window.GameSDK.setOrientation(1)},t.prototype.onResume=function(){console.log("onResume:")},t.prototype.onPause=function(){console.log("onPause:")},t.prototype.onAudio=function(t){console.log("onAudio:"," enable "+t.enable+" volume "+t.volume)},t.prototype.createBannerAd=function(){var t=this;this._bannerLoadTimes=1,this.bannerLoaded=!1,this._banner=window.AdSDK.createBannerAd("1",this._bannerId,2),this._banner.onLoad(function(){t._bannerLoadTimes=0,t.bannerLoaded=!0,i.default.I.handleEvent(i.E_ADEventType.banner_load_over),console.log("this._banner 创建banner成功，可以调用展示")}),this._banner.onError(function(e){t._bannerLoadTimes=0,t.destroyBannerAd(),console.log("this._banner 创建banner失败，错误码 = ",e.errorCode)}),console.log("this._banner 游戏创建banner广告")},t.prototype.showBannerAd=function(){this.bannerLoaded?(this._banner.show().then(function(){console.log("this._banner 广告显示成功")},function(){console.log("this._banner 广告显示失败")}),console.log("this._banner 展示banner广告")):console.log("this._banner 未加载成功")},t.prototype.hideBannerAd=function(){this._banner.hide(),console.log("this._banner 隐藏banner广告")},t.prototype.destroyBannerAd=function(){this.bannerLoaded=!1,this._banner.destroy(),console.log("this._banner 销毁banner广告")},t.prototype.isLoad_banner=function(){return this.bannerLoaded},t.prototype.isPreLoad_banner=function(){return this._bannerLoadTimes>0},t.prototype.createInterstitialAd=function(){var t=this;this._interstitialLoadTimes=1,this._interstitialAd=window.AdSDK.createInterstitialAd("1",this._interstitialId,2),this._interstitialAd.onLoad(function(){t._interstitialLoadTimes=0,t.interstitialAdLoaded=!0,console.log("this._interstitialAd 创建插屏成功，可以调用展示")}),this._interstitialAd.onError(function(e){t._interstitialLoadTimes=0,console.log("this._interstitialAd 创建插屏失败，错误码 = ",e.errorCode),t.destroyInterstitialAd(),i.default.I.handleEvent(i.E_ADEventType.interstitial_loadFail)}),console.log("this._interstitialAd 游戏创建插屏广告")},t.prototype.showInterstitialAd=function(){var t=this;this.interstitialAdLoaded?(this._interstitialAd.show().then(function(){console.log("this._interstitialAd 广告显示成功,可给与奖励"),t.destroyInterstitialAd(),setTimeout(function(){t.createInterstitialAd()},100)},function(){console.log("this._interstitialAd 广告显示失败"),i.default.I.handleEvent(i.E_ADEventType.interstitial_showFail)}),console.log("this._interstitialAd 游戏展示插屏广告")):console.log("this._interstitialAd 广告未加载成功")},t.prototype.hideInterstitialAd=function(){this._interstitialAd.hide(),console.log("this._interstitialAd 游戏隐藏插屏广告")},t.prototype.destroyInterstitialAd=function(){this.interstitialAdLoaded=!1,this._interstitialAd.destroy(),console.log("this._interstitialAd 游戏销毁插屏广告")},t.prototype.isLoad_interstitial=function(){return this.interstitialAdLoaded},t.prototype.isPreLoad_interstitial=function(){return this._interstitialLoadTimes>0},t.prototype.createRewardedVideoAd=function(){var t=this,e=this;this._videoLoadTimes=1,this._videoAd=window.AdSDK.createRewardedVideoAd("1",this._videoId,1),this._videoAd.onLoad(function(){t._videoLoadTimes=0,t.videoAdLoaded=!0,console.log("rewardedvideoAd 创建视频广告成功，可以调用展示")}),this._videoAd.onError(function(e){t._videoLoadTimes=0,console.log("rewardedvideoAd 创建视频广告失败，错误码 = ",e.errorCode),t.destroyRewardedVideoAd(),i.default.I.handleEvent(i.E_ADEventType.video_loadFail)}),this._videoAd.onClose(function(){console.log("rewardedvideoAd 视频广告关闭,回到游戏页面"),e._isVideoPlayed||(console.log("....................handle close..........."),i.default.I.handleEvent(i.E_ADEventType.video_close)),setTimeout(function(){t.createRewardedVideoAd()},100),t.destroyRewardedVideoAd()}),console.log("rewardedvideoAd 游戏创建视频广告")},t.prototype.showRewardedVideoAd=function(){var t=this;this.videoAdLoaded?(this._videoAd.show().then(function(){console.log("rewardedvideoAd 广告显示成功，可以给与奖励"),t._isVideoPlayed=!0,i.default.I.handleEvent(i.E_ADEventType.video_showOver)},function(){console.log("rewardedvideoAd 广告显示失败"),i.default.I.handleEvent(i.E_ADEventType.video_showFail)}),console.log("rewardedvideoAd 游戏展示视频广告")):console.log("rewardedvideoAd 视频广告未加载成功")},t.prototype.destroyRewardedVideoAd=function(){this._isVideoPlayed=!1,this.videoAdLoaded=!1,this._videoAd.destroy(),console.log("rewardedvideoAd 游戏销毁视频广告")},t.prototype.isLoad_rewarded=function(){return this.videoAdLoaded},t.prototype.isPreLoad_rewarded=function(){return this._videoLoadTimes>0},t.prototype.createImgAd=function(){window.AdSDK&&(this._adImg=window.AdSDK.createImageAd().then(function(){console.log("showImageAd"),window.AdSDK.showImageAd()}),console.log("createImageAd"))},t.prototype.showImgAd=function(){window.AdSDK&&this._adImg&&this._adImg.then(function(){console.log("showImageAd"),window.AdSDK.showImageAd()})},t.prototype.hideImgAd=function(){window.AdSDK&&window.AdSDK.hideImageAd()},t.prototype.destroyImgAd=function(){window.AdSDK&&window.AdSDK.destroyImageAd()},t._I=null,e=n([a],t)}();o.default=r,cc._RF.pop()},{"./AdEvent":"AdEvent"}],AdCocos:[function(t,e,o){"use strict";cc._RF.push(e,"8d1c09YhLdAobRdr00lDUNk","AdCocos");var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./AdEvent"),a=cc._decorator.ccclass,r=function(){function t(){this._gameId=660862835,this._bannerId="825670941",this._interstitialId="57498326",this._videoId="760985143",this._banner={},this._interstitialAd={},this._videoAd={},this._bannerLoadTimes=0,this.bannerLoaded=!1,this._interstitialLoadTimes=0,this.interstitialAdLoaded=!1,this._videoLoadTimes=0,this.videoAdLoaded=!1,this._isVideoPlayed=!1,this.isBannering=!1}var e;return e=t,Object.defineProperty(t,"I",{get:function(){return e._I||(e._I=new e),e._I},enumerable:!1,configurable:!0}),t.prototype.firstLoad=function(){this.createBannerAd(),this.createInterstitialAd(),this.createRewardedVideoAd()},t.prototype.init=function(){window.GameSDK.setOnInitCB(this.onInit),window.GameSDK.init(this._gameId),window.AdSDK.init(),this.firstLoad()},t.prototype.onInit=function(t){console.log("onInit:","userId "+t.userId+" nickName "+t.nickName+" headUrl "+t.headUrl+" age "+t.age)},t.prototype.quit=function(){window.GameSDK.quit(1)},t.prototype.pay=function(){window.GameSDK.pay(+new Date,"钻石","钻石恒久远，一颗永流传",1,"支付","支付付款通知地址")},t.prototype.onPay=function(t){console.log("onPay:"," result "+t.result+" message "+t.message)},t.prototype.setScreenLandescape=function(){window.GameSDK.setOrientation(0)},t.prototype.setScreenPortrait=function(){window.GameSDK.setOrientation(1)},t.prototype.onResume=function(){console.log("onResume:")},t.prototype.onPause=function(){console.log("onPause:")},t.prototype.onAudio=function(t){console.log("onAudio:"," enable "+t.enable+" volume "+t.volume)},t.prototype.createBannerAd=function(){var t=this;this._bannerLoadTimes=1,this.bannerLoaded=!1,this._banner=window.AdSDK.createBannerAd("1",this._bannerId,2),this._banner.onLoad(function(){t._bannerLoadTimes=0,t.bannerLoaded=!0,i.default.I.handleEvent(i.E_ADEventType.banner_load_over),console.log("this._banner 创建banner成功，可以调用展示")}),this._banner.onError(function(e){t._bannerLoadTimes=0,t.destroyBannerAd(),console.log("this._banner 创建banner失败，错误码 = ",e.errorCode)}),console.log("this._banner 游戏创建banner广告")},t.prototype.showBannerAd=function(){this.bannerLoaded?(this._banner["show()"].then(function(){console.log("this._banner 广告显示成功")},function(){console.log("this._banner 广告显示失败")}),console.log("this._banner 展示banner广告")):console.log("this._banner 未加载成功")},t.prototype.hideBannerAd=function(){this._banner.hide(),console.log("this._banner 隐藏banner广告")},t.prototype.destroyBannerAd=function(){this.bannerLoaded=!1,this._banner.destroy(),console.log("this._banner 销毁banner广告")},t.prototype.isLoad_banner=function(){return this.bannerLoaded},t.prototype.isPreLoad_banner=function(){return this._bannerLoadTimes>0},t.prototype.createInterstitialAd=function(){var t=this;this._interstitialLoadTimes=1,this._interstitialAd=window.AdSDK.createInterstitialAd("1",this._interstitialId,2),this._interstitialAd.onLoad(function(){t._interstitialLoadTimes=0,t.interstitialAdLoaded=!0,console.log("this._interstitialAd 创建插屏成功，可以调用展示")}),this._interstitialAd.onError(function(e){t._interstitialLoadTimes=0,console.log("this._interstitialAd 创建插屏失败，错误码 = ",e.errorCode),t.destroyInterstitialAd(),i.default.I.handleEvent(i.E_ADEventType.interstitial_loadFail)}),console.log("this._interstitialAd 游戏创建插屏广告")},t.prototype.showInterstitialAd=function(){var t=this;this.interstitialAdLoaded?(this._interstitialAd.show().then(function(){console.log("this._interstitialAd 广告显示成功,可给与奖励"),t.destroyInterstitialAd(),setTimeout(function(){t.createInterstitialAd()},100)},function(){console.log("this._interstitialAd 广告显示失败"),i.default.I.handleEvent(i.E_ADEventType.interstitial_showFail)}),console.log("this._interstitialAd 游戏展示插屏广告")):console.log("this._interstitialAd 广告未加载成功")},t.prototype.hideInterstitialAd=function(){this._interstitialAd.hide(),console.log("this._interstitialAd 游戏隐藏插屏广告")},t.prototype.destroyInterstitialAd=function(){this.interstitialAdLoaded=!1,this._interstitialAd.destroy(),console.log("this._interstitialAd 游戏销毁插屏广告")},t.prototype.isLoad_interstitial=function(){return this.interstitialAdLoaded},t.prototype.isPreLoad_interstitial=function(){return this._interstitialLoadTimes>0},t.prototype.createRewardedVideoAd=function(){var t=this,e=this;this._videoLoadTimes=1,this._videoAd=window.AdSDK.createRewardedVideoAd("1",this._videoId,1),this._videoAd.onLoad(function(){t._videoLoadTimes=0,t.videoAdLoaded=!0,console.log("rewardedvideoAd 创建视频广告成功，可以调用展示")}),this._videoAd.onError(function(e){t._videoLoadTimes=0,console.log("rewardedvideoAd 创建视频广告失败，错误码 = ",e.errorCode),t.destroyRewardedVideoAd(),i.default.I.handleEvent(i.E_ADEventType.video_loadFail)}),this._videoAd.onClose(function(){console.log("rewardedvideoAd 视频广告关闭,回到游戏页面"),e._isVideoPlayed||(console.log("....................handle close..........."),i.default.I.handleEvent(i.E_ADEventType.video_close)),setTimeout(function(){t.createRewardedVideoAd()},100),t.destroyRewardedVideoAd()}),console.log("rewardedvideoAd 游戏创建视频广告")},t.prototype.showRewardedVideoAd=function(){var t=this;this.videoAdLoaded?(this._videoAd.show().then(function(){console.log("rewardedvideoAd 广告显示成功，可以给与奖励"),t._isVideoPlayed=!0,i.default.I.handleEvent(i.E_ADEventType.video_showOver)},function(){console.log("rewardedvideoAd 广告显示失败"),i.default.I.handleEvent(i.E_ADEventType.video_showFail)}),console.log("rewardedvideoAd 游戏展示视频广告")):console.log("rewardedvideoAd 视频广告未加载成功")},t.prototype.destroyRewardedVideoAd=function(){this._isVideoPlayed=!1,this.videoAdLoaded=!1,this._videoAd.destroy(),console.log("rewardedvideoAd 游戏销毁视频广告")},t.prototype.isLoad_rewarded=function(){return this.videoAdLoaded},t.prototype.isPreLoad_rewarded=function(){return this._videoLoadTimes>0},t._I=null,e=n([a],t)}();o.default=r,cc._RF.pop()},{"./AdEvent":"AdEvent"}],AdCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"c039ex8GAJBCKtgHrijprJ5","AdCtrl");var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_AdType=void 0;var i,a=t("./AdCocos"),r=t("../manager/GameCtr"),c=t("./AdEvent"),s=t("./AdDob5"),l=t("./AdXiaoXiong"),p=t("./AdChuanYin"),d=t("./AdCocosH5"),_=t("./adTT/AdTT"),u=cc._decorator.ccclass;(function(t){t[t.None=0]="None",t[t.Shop=1]="Shop",t[t.Reborn=2]="Reborn"})(i=o.E_AdType||(o.E_AdType={}));var h=function(){function t(){this.type=i.None,this._instantiate=null,this._bannerTime=0,this._videoTime=0,this._interstitialTime=0,this._intersTitialPrePlayTime=0,this._isBanner=!1}var e;return e=t,Object.defineProperty(t,"I",{get:function(){return e._I||(e._I=new e),e._I},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"intersTitialPrePlayTIme",{get:function(){return this._intersTitialPrePlayTime},set:function(t){this._intersTitialPrePlayTime=t},enumerable:!1,configurable:!0}),t.prototype.init=function(){switch(r.default.I.gameType){case r.E_GameType.Cocos:this._instantiate=new a.default;break;case r.E_GameType.Dob5:this._instantiate=new s.default;break;case r.E_GameType.XiaoXiong:this._instantiate=new l.default;break;case r.E_GameType.ChuanYin:this._instantiate=new p.default;break;case r.E_GameType.Cocos_h5:this._instantiate=new d.default;break;case r.E_GameType.Aunit:break;case r.E_GameType.TT:this._instantiate=_.default.I}this._instantiate&&this._instantiate.init()},Object.defineProperty(t.prototype,"isBanner",{get:function(){return this._instantiate.isBannering},enumerable:!1,configurable:!0}),t.prototype.createBannerAd=function(){this._instantiate.createBannerAd()},t.prototype.showBannerAd=function(){this._instantiate.showBannerAd()},t.prototype.hideBannerAd=function(){this._instantiate.hideBannerAd()},t.prototype.isLoad_banner=function(){return this._instantiate.isLoad_banner()},t.prototype.isPreLoad_banner=function(){return this._instantiate.isPreLoad_banner()},t.prototype.createInterstitialAd=function(){this._instantiate.createInterstitialAd()},t.prototype.showInterstitialAd=function(){this._instantiate.showInterstitialAd()},t.prototype.isLoad_interstitial=function(){if(!this._instantiate)return!1;var t=new Date;if(r.default.I.isJSBAd()&&t.getTime()-this.intersTitialPrePlayTIme<9e4)return!1;var e=this._instantiate.isLoad_interstitial();return e||(c.default.I.handleEvent(c.E_ADEventType.video_showFail_tip,"Ad unavailable, please try later"),this.isPreLoad_interstitial()?(this._interstitialTime++,3==this._interstitialTime&&(this._interstitialTime=0,this.createInterstitialAd())):(this._interstitialTime=0,this.createInterstitialAd()),cc.log("...ad...iinterstitial time.",this._interstitialTime)),e&&(this.intersTitialPrePlayTIme=t.getTime()),e},t.prototype.isPreLoad_interstitial=function(){return this._instantiate.isPreLoad_interstitial()},t.prototype.createRewardedVideoAd=function(){this._instantiate.createRewardedVideoAd()},t.prototype.showRewardedVideoAd=function(){this._instantiate.showRewardedVideoAd()},t.prototype.isLoad_rewarded=function(){if(!this._instantiate)return!1;var t=this._instantiate.isLoad_rewarded();return t||(c.default.I.handleEvent(c.E_ADEventType.video_showFail_tip,"Ad unavailable, please try later"),this.isPreLoad_rewarded()?(this._videoTime++,3==this._videoTime&&(this._videoTime=0,this.createRewardedVideoAd())):(this._videoTime=0,this.createRewardedVideoAd()),cc.log("...ad...video time.",this._videoTime)),t},t.prototype.isPreLoad_rewarded=function(){return this._instantiate.isPreLoad_rewarded()},t._I=null,e=n([u],t)}();o.default=h,cc._RF.pop()},{"../manager/GameCtr":"GameCtr","./AdChuanYin":"AdChuanYin","./AdCocos":"AdCocos","./AdCocosH5":"AdCocosH5","./AdDob5":"AdDob5","./AdEvent":"AdEvent","./AdXiaoXiong":"AdXiaoXiong","./adTT/AdTT":"AdTT"}],AdDob5:[function(t,e,o){"use strict";cc._RF.push(e,"94e973zzt5K65pblefoinLt","AdDob5");var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./AdEvent"),a=t("../manager/SoundManager"),r=cc._decorator.ccclass,c=function(){function t(){this._gameId=660730283,this._bannerId="503498176",this._interstitialId="194723805",this._videoId="327981064",this._banner={},this._interstitialAd={},this._videoAd={},this._bannerLoadTimes=0,this.bannerLoaded=!1,this._interstitialLoadTimes=0,this.interstitialAdLoaded=!1,this._videoLoadTimes=0,this.videoAdLoaded=!1,this._isVideoPlayed=!1,this._isADStart=!1,this._isPlayAd=!1,this._isCallPlay=!1,this.isBannering=!1}return t.prototype.init=function(){var t=this;t.videoAdLoaded=!0,t.interstitialAdLoaded=!0},t.prototype.playAD=function(){var t=this;let e=MiniGameAds.isRewardvideoReady();this._isCallPlay||(this._isCallPlay=!0,console.log("...........playAD......"),e?MiniGameAds.showRewardedVideo().then(()=>{console.info("====> show RewardedVideo success"),t._isCallPlay=!1,i.default.I.handleEvent(i.E_ADEventType.video_showOver),a.default.I.resumeSoundAndMusicByAd()}).catch(t=>{console.error("====> show RewardedVideo error: "+t.message),promptTxT("No ads temporarily")}):(t._isCallPlay=!1,i.default.I.handleEvent(i.E_ADEventType.video_showFail),promptTxT("No ads temporarily")))},t.prototype.createBannerAd=function(){},t.prototype.showBannerAd=function(){},t.prototype.hideBannerAd=function(){},t.prototype.destroyBannerAd=function(){},t.prototype.isLoad_banner=function(){return!1},t.prototype.isPreLoad_banner=function(){return!1},t.prototype.createInterstitialAd=function(){},t.prototype.showInterstitialAd=function(){HUHU_showInterstitialAd()},t.prototype.hideInterstitialAd=function(){console.log("this._interstitialAd 游戏隐藏插屏广告")},t.prototype.destroyInterstitialAd=function(){console.log("this._interstitialAd 游戏销毁插屏广告")},t.prototype.isLoad_interstitial=function(){return this.interstitialAdLoaded},t.prototype.isPreLoad_interstitial=function(){return!0},t.prototype.createRewardedVideoAd=function(){},t.prototype.showRewardedVideoAd=function(){this.videoAdLoaded?(this.playAD(),console.log("rewardedvideoAd 视频广展示")):console.log("rewardedvideoAd 视频广告未加载成功")},t.prototype.destroyRewardedVideoAd=function(){},t.prototype.isLoad_rewarded=function(){return this.videoAdLoaded},t.prototype.isPreLoad_rewarded=function(){return!0},t.prototype.addStatistics=function(){var t=document.getElementsByTagName("body")[0],e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=UA-155756551-1",e.onload=function(){cc.log("............statistics.onLoad......")},t.appendChild(e),window.dataLayer||(window.dataLayer=[]),window.gtag=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window.dataLayer.push(t)},window.gtag("js",new Date),window.gtag("config","UA-155756551-1")},n([r],t)}();o.default=c,cc._RF.pop()},{"../manager/SoundManager":"SoundManager","./AdEvent":"AdEvent"}],AdEvent:[function(t,e,o){"use strict";cc._RF.push(e,"a38d54qNwNO24vTtYZN67rT","AdEvent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_ADEventType=void 0;var r=cc._decorator,c=r.ccclass;r.property,function(t){t.sdk_init="sdk_init",t.banner_show="banner_show",t.banner_hide="banner_hide",t.banner_load_over="banner_load_over",t.interstitial_show="interstitial_show",t.interstitial_loadFail="interstitial_loadFail",t.interstitial_showOver="interstitial_Over",t.interstitial_showFail="interstitial_showFail",t.interstitial_showFail_tip="interstitial_showFail_tip",t.video_show="video_show",t.video_close="video_close",t.video_loadFail="video_loadFail",t.video_showOver="video_showOver",t.video_showFail="video_showFail",t.video_showFail_tip="video_playFail_tip"}(o.E_ADEventType||(o.E_ADEventType={}));var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._eventList={},e}var o;return i(e,t),o=e,Object.defineProperty(e,"I",{get:function(){return o._I||(o._I=new o),o._I},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){},e.prototype.addEventLintener=function(t,e,o){var n=this._eventList[t],i=!1;if(n&&n.length>0){for(var a=0;a<n.length;++a)if(n[a].target==o){n[a].callback=e,i=!0;break}i||this._eventList[t].push({callback:e,target:o})}else this._eventList[t]=[],this._eventList[t].push({callback:e,target:o})},e.prototype.removeEventByType=function(t,e){var o=this._eventList[t];if(o.length>0)for(var n=0;n<o.length;++n)if(o[n].target==e){this._eventList[t]=null,delete this._eventList[t];break}},e.prototype.removeEvent=function(t){for(var e in this._eventList){var o=this._eventList[e];if(o.length>0)for(var n=0;n<o.length;++n)if(o[n]){if(o[n].target==t){var i=this._eventList[e].indexOf(o[n]);this._eventList[e].splice(i,1)}}else cc.log("eventInfo[i] --------",o)}},e.prototype.handleEvent=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=this._eventList[t];if(n&&n.length>0)for(var i=0;i<n.length;++i)n[i]&&n[i].callback.call(n[i].target,e[0],e)},e._I=null,o=a([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],AdGoogleADM:[function(t,e,o){"use strict";function n(t,e,o){void 0===o&&(o=[]),cc.log(e+"   --callJava--  param: ",o),cc.log.apply(cc,a([t,e],o))}cc._RF.push(e,"39e661hpJhBsr0w80qH/HFg","AdGoogleADM");var i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var a=arguments[e],r=0,c=a.length;r<c;r++,i++)n[i]=a[r];return n};Object.defineProperty(o,"__esModule",{value:!0})
;var r,c=t("../AdEvent"),s=cc._decorator.ccclass,l=function(){function t(){this._gameId=692038412,this._bannerId="786032594",this._interstitialId="47521693",this._videoId="512608493",this._banner={},this._interstitialAd={},this._videoAd={},this._bannerLoadTimes=0,this.bannerLoaded=!1,this._interstitialLoadTimes=0,this.interstitialAdLoaded=!1,this._videoLoadTimes=0,this.videoAdLoaded=!1,this._isVideoPlayed=!1,this.isBannering=!1,this._adImg=null}var e;return e=t,Object.defineProperty(t,"I",{get:function(){return e._I||(e._I=new e),e._I},enumerable:!1,configurable:!0}),t.prototype.firstLoad=function(){this.createBannerAd(),this.createInterstitialAd(),this.createRewardedVideoAd()},t.prototype.init=function(){},t.prototype.onResume=function(){console.log("onResume:")},t.prototype.onPause=function(){console.log("onPause:")},t.prototype.createBannerAd=function(){this._bannerLoadTimes=1,this.bannerLoaded=!0,n("preloadAds","(ILjava/lang/String;)V",[0,""]),console.log("this._banner 游戏创建banner广告")},t.prototype.showBannerAd=function(){this.isBannering=!0,n("showAds","(ILjava/lang/String;)V",[0,""])},t.prototype.hideBannerAd=function(){n("hideAds","(ILjava/lang/String;)V",[0,""]),console.log("this._banner 隐藏banner广告"),this.isBannering=!1},t.prototype.destroyBannerAd=function(){this.bannerLoaded=!1,console.log("this._banner 销毁banner广告")},t.prototype.isLoad_banner=function(){return!0},t.prototype.isPreLoad_banner=function(){return this._bannerLoadTimes>0},t.prototype.createInterstitialAd=function(){this._interstitialLoadTimes=0,n("preloadAds","(ILjava/lang/String;)V",[1,""]),console.log("this._interstitialAd 游戏创建插屏广告")},t.prototype.showInterstitialAd=function(){n("showAds","(ILjava/lang/String;)V",[1,""])},t.prototype.hideInterstitialAd=function(){console.log("this._interstitialAd 游戏隐藏插屏广告")},t.prototype.destroyInterstitialAd=function(){this.interstitialAdLoaded=!1,console.log("this._interstitialAd 游戏销毁插屏广告")},t.prototype.isLoad_interstitial=function(){return n("isLoadAd","(I)Z",[1])},t.prototype.isPreLoad_interstitial=function(){return this._interstitialLoadTimes>0},t.prototype.createRewardedVideoAd=function(){this._videoLoadTimes=0,n("preloadAds","(ILjava/lang/String;)V",[2,""]),console.log("rewardedvideoAd 游戏创建视频广告")},t.prototype.showRewardedVideoAd=function(){n("showAds","(ILjava/lang/String;)V",[2,""])},t.prototype.destroyRewardedVideoAd=function(){this._isVideoPlayed=!1,this.videoAdLoaded=!1,console.log("rewardedvideoAd 游戏销毁视频广告")},t.prototype.isLoad_rewarded=function(){return n("isLoadAd","(I)Z",[2])},t.prototype.isPreLoad_rewarded=function(){return this._videoLoadTimes>0},t._I=null,e=i([s],t)}();o.default=l,function(t){t.SDK_Init="sdk_init",t.Reward_show_fail="reward_show_fail",t.Reward_gift_gain="reward_gift_gain",t.Reward_gift_close="reward_gift_close",t.Interstitail_close="interstitail_close"}(r||(r={})),window.AdGoogleADM_Call_Call=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];switch(cc.log("AdGoogleADM_Call_Call  type = ",t,"  param = ",e),t){case r.SDK_Init:c.default.I.handleEvent(c.E_ADEventType.sdk_init);break;case r.Interstitail_close:setTimeout(function(){n("preloadAds","(ILjava/lang/String;)V",[1,""])},100);break;case r.Reward_show_fail:c.default.I.handleEvent(c.E_ADEventType.video_showFail);break;case r.Reward_gift_gain:c.default.I.handleEvent(c.E_ADEventType.video_showOver),setTimeout(function(){n("preloadAds","(ILjava/lang/String;)V",[2,""])},100);break;case r.Reward_gift_close:c.default.I.handleEvent(c.E_ADEventType.video_showFail),setTimeout(function(){n("preloadAds","(ILjava/lang/String;)V",[2,""])},100)}},cc._RF.pop()},{"../AdEvent":"AdEvent"}],AdTT:[function(t,e,o){"use strict";function n(t,e,o){void 0===o&&(o=[]),cc.log(e+"   --callJava--  param: ",o),cc.log.apply(cc,a([t,e],o))}cc._RF.push(e,"0fa12rQ3/FKSqqKmujH8jQ7","AdTT");var i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var a=arguments[e],r=0,c=a.length;r<c;r++,i++)n[i]=a[r];return n};Object.defineProperty(o,"__esModule",{value:!0});var r,c=t("../AdEvent"),s=cc._decorator.ccclass,l=function(){function t(){this._gameId=692038412,this._bannerId="786032594",this._interstitialId="47521693",this._videoId="512608493",this._banner={},this._interstitialAd={},this._videoAd={},this._bannerLoadTimes=0,this.bannerLoaded=!1,this._interstitialLoadTimes=0,this.interstitialAdLoaded=!1,this._videoLoadTimes=0,this.videoAdLoaded=!1,this._isVideoPlayed=!1,this.isBannering=!1,this._adImg=null}var e;return e=t,Object.defineProperty(t,"I",{get:function(){return e._I||(e._I=new e),e._I},enumerable:!1,configurable:!0}),t.prototype.firstLoad=function(){this.createBannerAd(),this.createInterstitialAd(),this.createRewardedVideoAd()},t.prototype.init=function(){},t.prototype.onResume=function(){console.log("onResume:")},t.prototype.onPause=function(){console.log("onPause:")},t.prototype.createBannerAd=function(){this._bannerLoadTimes=1,this.bannerLoaded=!0,n("preloadAds","(ILjava/lang/String;)V",[0,""]),console.log("this._banner 游戏创建banner广告")},t.prototype.showBannerAd=function(){this.isBannering=!0,n("showAds","(ILjava/lang/String;)V",[0,""])},t.prototype.hideBannerAd=function(){n("hideAds","(ILjava/lang/String;)V",[0,""]),console.log("this._banner 隐藏banner广告"),this.isBannering=!1},t.prototype.destroyBannerAd=function(){this.bannerLoaded=!1,console.log("this._banner 销毁banner广告")},t.prototype.isLoad_banner=function(){return!0},t.prototype.isPreLoad_banner=function(){return this._bannerLoadTimes>0},t.prototype.createInterstitialAd=function(){this._interstitialLoadTimes=0,n("preloadAds","(ILjava/lang/String;)V",[1,""]),console.log("this._interstitialAd 游戏创建插屏广告")},t.prototype.showInterstitialAd=function(){n("showAds","(ILjava/lang/String;)V",[1,""])},t.prototype.hideInterstitialAd=function(){console.log("this._interstitialAd 游戏隐藏插屏广告")},t.prototype.destroyInterstitialAd=function(){this.interstitialAdLoaded=!1,console.log("this._interstitialAd 游戏销毁插屏广告")},t.prototype.isLoad_interstitial=function(){return n("isLoadAd","(I)Z",[1])},t.prototype.isPreLoad_interstitial=function(){return this._interstitialLoadTimes>0},t.prototype.createRewardedVideoAd=function(){this._videoLoadTimes=0,n("preloadAds","(ILjava/lang/String;)V",[2,""]),console.log("rewardedvideoAd 游戏创建视频广告")},t.prototype.showRewardedVideoAd=function(){n("showAds","(ILjava/lang/String;)V",[2,""])},t.prototype.destroyRewardedVideoAd=function(){this._isVideoPlayed=!1,this.videoAdLoaded=!1,console.log("rewardedvideoAd 游戏销毁视频广告")},t.prototype.isLoad_rewarded=function(){return n("isLoadAd","(I)Z",[2])},t.prototype.isPreLoad_rewarded=function(){return this._videoLoadTimes>0},t._I=null,e=i([s],t)}();o.default=l,function(t){t.SDK_Init="sdk_init",t.Reward_show_fail="reward_show_fail",t.Reward_gift_gain="reward_gift_gain",t.Reward_gift_close="reward_gift_close",t.Interstitail_close="interstitail_close"}(r||(r={})),window.AdTT_Call=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];switch(cc.log("AdTT_Call  type = ",t,"  param = ",e),t){case r.SDK_Init:c.default.I.handleEvent(c.E_ADEventType.sdk_init);break;case r.Interstitail_close:setTimeout(function(){n("preloadAds","(ILjava/lang/String;)V",[1,""])},100);break;case r.Reward_show_fail:c.default.I.handleEvent(c.E_ADEventType.video_showFail);break;case r.Reward_gift_gain:c.default.I.handleEvent(c.E_ADEventType.video_showOver),setTimeout(function(){n("preloadAds","(ILjava/lang/String;)V",[2,""])},100);break;case r.Reward_gift_close:c.default.I.handleEvent(c.E_ADEventType.video_showFail),setTimeout(function(){n("preloadAds","(ILjava/lang/String;)V",[2,""])},100)}},cc._RF.pop()},{"../AdEvent":"AdEvent"}],AdXiaoXiong:[function(t,e,o){"use strict";cc._RF.push(e,"f04493L1zNP5rphhIwPfQ4Q","AdXiaoXiong");var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../manager/EventManager"),a=t("./AdEvent"),r=cc._decorator.ccclass,c=function(){function t(){this._gameId=660730283,this._bannerId="503498176",this._interstitialId="194723805",this._videoId="327981064",this._banner={},this._interstitialAd={},this._videoAd={},this._bannerLoadTimes=0,this.bannerLoaded=!1,this._interstitialLoadTimes=0,this.interstitialAdLoaded=!1,this._videoLoadTimes=0,this.videoAdLoaded=!1,this._isVideoPlayed=!1,this.isBannering=!1}return t.prototype.init=function(){var t=this;window.JsBridge&&(setTimeout(function(){t.createInterstitialAd()},10),setTimeout(function(){t.createRewardedVideoAd()},20))},t.prototype.createBannerAd=function(){window.JsBridge.callMethod("JsInvokeJavaScope","loadBanner",null,function(t){i.default.I.handleEvent(i.E_EventType.Log_Show,"createBannerAd"+JSON.stringify(t)),0==t.status.code&&a.default.I.handleEvent(a.E_ADEventType.banner_load_over)}),i.default.I.handleEvent(i.E_EventType.Log_Show,"this._banner 游戏创建广告")},t.prototype.showBannerAd=function(){if(this.bannerLoaded){if(!window.JsBridge)return;cc.log(".......showBannerAd"),window.JsBridge.callMethod("JsInvokeJavaScope","showBanner",null,function(t){i.default.I.handleEvent(i.E_EventType.Log_Show,"showBannerAd"+JSON.stringify(t))}),i.default.I.handleEvent(i.E_EventType.Log_Show,"this._banner 展示")}else i.default.I.handleEvent(i.E_EventType.Log_Show,"this._banner 未加载成功"),console.log("this._banner 未加载成功")},t.prototype.hideBannerAd=function(){},t.prototype.isLoad_banner=function(){return this.bannerLoaded},t.prototype.isPreLoad_banner=function(){return!0},t.prototype.createInterstitialAd=function(){var t=this;this.interstitialAdLoaded=!1,this._interstitialLoadTimes=1,window.JsBridge.callMethod("JsInvokeJavaScope","loadInterstitial",null,function(e){i.default.I.handleEvent(i.E_EventType.Log_Show,"createInterstitialAd"+JSON.stringify(e)),t._interstitialLoadTimes=0,0==e.status.code&&(t.interstitialAdLoaded=!0)}),console.log("this._interstitialAd 游戏创建插屏广告"),i.default.I.handleEvent(i.E_EventType.Log_Show,"this._interstitialAd 游戏创建插屏广告")},t.prototype.showInterstitialAd=function(){if(this.interstitialAdLoaded){if(!window.JsBridge)return;window.JsBridge.callMethod("JsInvokeJavaScope","showInterstitial",null,function(t){i.default.I.handleEvent(i.E_EventType.Log_Show,"showInterstitialAd"+JSON.stringify(t))}),i.default.I.handleEvent(i.E_EventType.Log_Show,"_interstitialAd 游戏展示插屏广告"),console.log("this._interstitialAd 游戏展示插屏广告")}else console.log("this._interstitialAd 广告未加载成功"),i.default.I.handleEvent(i.E_EventType.Log_Show,"_interstitialAd 广告未加载成功")},t.prototype.isLoad_interstitial=function(){return this.interstitialAdLoaded},t.prototype.isPreLoad_interstitial=function(){return this._interstitialLoadTimes>0},t.prototype.createRewardedVideoAd=function(){var t=this;this.videoAdLoaded=!1,this._videoLoadTimes=1,window.JsBridge.callMethod("JsInvokeJavaScope","loadReward",null,function(e){i.default.I.handleEvent(i.E_EventType.Log_Show,"createRewardedVideoAd"+JSON.stringify(e)),t._videoLoadTimes=0,i.default.I.handleEvent(i.E_EventType.Log_Show,"createRewardedVideoAd"+e.status.code),0==e.status.code&&(t.videoAdLoaded=!0,i.default.I.handleEvent(i.E_EventType.Log_Show,"createRewardedVideoAd  success"))}),i.default.I.handleEvent(i.E_EventType.Log_Show,"rewardedvideoAd 游戏创建视频广告"),console.log("rewardedvideoAd 游戏创建视频广告")},t.prototype.showRewardedVideoAd=function(){if(this.videoAdLoaded){if(!window.JsBridge)return;window.JsBridge.callMethod("JsInvokeJavaScope","showReward",null,function(t){i.default.I.handleEvent(i.E_EventType.Log_Show,"showRewardedVideoAd"+JSON.stringify(t)),"onRewardSuccess"==t.status.msg?a.default.I.handleEvent(a.E_ADEventType.video_showOver):"onRewardedFail"==t.status.msg&&a.default.I.handleEvent(a.E_ADEventType.video_showFail)}),i.default.I.handleEvent(i.E_EventType.Log_Show,"rewardedvideoAd 游戏展示视频广告"),console.log("rewardedvideoAd 游戏展示视频广告")}else i.default.I.handleEvent(i.E_EventType.Log_Show,"rewardedvideoAd 视频广告未加载成功"),console.log("rewardedvideoAd 视频广告未加载成功")},t.prototype.isLoad_rewarded=function(){return this.videoAdLoaded},t.prototype.isPreLoad_rewarded=function(){return console.log("....isPreLoad_rewarded.....",this._videoLoadTimes),this._videoLoadTimes>0},n([r],t)}();o.default=c,cc._RF.pop()},{"../manager/EventManager":"EventManager","./AdEvent":"AdEvent"}],AmnMove:[function(t,e,o){"use strict";cc._RF.push(e,"d6aebfK8NNAzLAi6M1CcPzY","AmnMove");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_AmnMoveType=void 0;var r,c=cc._decorator,s=c.ccclass,l=c.property,p=c.menu;(function(t){t[t.Normal=0]="Normal"})(r=o.E_AmnMoveType||(o.E_AmnMoveType={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.Normal,e.n_to=null,e.angle=0,e.scale=0,e.speed=800,e.t=.5,e.fixedTime=!1,e._callFunc=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.to_Node=function(t){this.n_to=t},e.prototype.callFunc=function(t){this._callFunc=t},e.prototype.act=function(){switch(this.type){case r.Normal:this.handle_normal()}},e.prototype.reset=function(){this.scale=0,this.angle=0},e.prototype.handle_normal=function(){var t=this,e=this.node.convertToWorldSpaceAR(cc.v2(0,0)),o=this.n_to.convertToWorldSpaceAR(cc.v2(0,0)).sub(e),n=0;n=this.fixedTime?this.t:o.mag()/this.speed,cc.tween(this.node).by(n,{x:o.x,y:o.y,scale:this.scale,angle:this.angle}).call(function(){t._callFunc&&t._callFunc()}).start()},a([l({type:cc.Enum(r)})],e.prototype,"type",void 0),a([l({type:cc.Node,tooltip:"目标节点 - 可以通过代码绑定"})],e.prototype,"n_to",void 0),a([l],e.prototype,"angle",void 0),a([l],e.prototype,"scale",void 0),a([l({visible:function(){return!this.fixedTime}})],e.prototype,"speed",void 0),a([l({visible:function(){return this.fixedTime}})],e.prototype,"t",void 0),a([l],e.prototype,"fixedTime",void 0),a([s,p("act/AmnMove")],e)}(cc.Component);o.default=d,cc._RF.pop()},{}],CommonAmn:[function(t,e,o){"use strict";cc._RF.push(e,"f44ffqiXl5F07QAY6jQON1y","CommonAmn");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_CommonAmnType=void 0;var r=cc._decorator,c=r.ccclass;r.property,function(t){t[t.CoinFly_Normal=0]="CoinFly_Normal"}(o.E_CommonAmnType||(o.E_CommonAmnType={}));var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,Object.defineProperty(e,"I",{get:function(){return o._I||(o._I=new o),o._I},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.initPos=function(t){t.initPos=cc.v2(t.position)},e.prototype.initPosArr=function(t){t.forEach(function(t){t.initPos=cc.v2(t.position)})},e.prototype.exitPos=function(t,e){void 0===e&&(e=null),t.exitPos=e||cc.v2(t.position)},e.prototype.pos_dir=function(t,e){var o=cc.v2();e==GEnum.Node_Pos.Top?o=this.getPos_Top(t):e==GEnum.Node_Pos.Bottom?o=this.getPos_Bottom(t):e==GEnum.Node_Pos.Left?o=this.getPos_Left(t):e==GEnum.Node_Pos.Right&&(o=this.getPos_Right(t)),t.setPosition(o)},e.prototype.getPos_Top=function(t){return cc.v2(t.x,GAttr.canvasHeight/2+t.height*t.anchorY*t.scaleY)},e.prototype.getPos_Bottom=function(t){return cc.v2(t.x,-GAttr.canvasHeight/2-t.height*(1-t.anchorY)*t.scaleY)},e.prototype.getPos_Left=function(t){return cc.v2(GAttr.canvasWidth/-2-t.width*t.scaleX*(1-t.anchorX),t.y)},e.prototype.getPos_Right=function(t){return cc.v2(GAttr.canvasWidth/2+t.width*t.scaleX*t.anchorX,t.y)},e.prototype.hideNode=function(t){t.active=!1,t.opacity=0},e.prototype.act_entrance=function(t,e,o,n,i){void 0===e&&(e=0),void 0===o&&(o=.4),void 0===n&&(n=null),void 0===i&&(i=null),cc.tween(t).delay(e).to(o,{x:t.initPos.x,y:t.initPos.y},{easing:n||""}).call(function(){i&&i()}).start()},e.prototype.act_exit=function(t,e,o,n,i){void 0===e&&(e=0),void 0===o&&(o=.5),void 0===n&&(n=null),void 0===i&&(i=null),cc.tween(t).delay(e).to(o,{x:t.exitPos.x,y:t.exitPos.y},{easing:n||""}).call(function(){i&&i()}).start()},e.prototype.act_fade=function(t,e,o,n,i,a){void 0===e&&(e=0),void 0===o&&(o=.5),void 0===n&&(n=0),void 0===i&&(i=null),void 0===a&&(a=null),t.active||(t.active=!0),cc.tween(t).delay(e).to(o,{opacity:n},{easing:i||""}).call(function(){a&&a()}).start()},e.prototype.act_fallGround=function(t){var e=t.scaleX,o=t.scaleY;cc.tween(t).to(.1,{scaleX:1.2*e,scaleY:.8*o},{easing:"quadOut"}).to(.1,{scaleY:e,scaleX:o},{easing:"quadIn"}).start()},e._I=null,o=a([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],CommonRes:[function(t,e,o){"use strict";cc._RF.push(e,"44b7d1TN4tDwqY0L3rco6UM","CommonRes");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sf_RoleArr=[],e.sf_RoleAmnArr=[],e.sf_RoleMoneyArr=[],e.sf_coin=null,e.sf_key=null,e.sf_lvBg_normal=null,e.sf_lvBg_boss=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"I",{get:function(){return o._I||(o._I=new o),o._I},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._I=this},e.prototype.getSfByName=function(t){for(var e=0;e<this.sf_RoleArr.length;e++)if(this.sf_RoleArr[e].name==t)return this.sf_RoleArr[e]},e._I=null,a([s([cc.SpriteFrame])],e.prototype,"sf_RoleArr",void 0),a([s([cc.SpriteFrame])],e.prototype,"sf_RoleAmnArr",void 0),a([s([cc.SpriteFrame])],e.prototype,"sf_RoleMoneyArr",void 0),a([s(cc.SpriteFrame)],e.prototype,"sf_coin",void 0),a([s(cc.SpriteFrame)],e.prototype,"sf_key",void 0),a([s(cc.SpriteFrame)],e.prototype,"sf_lvBg_normal",void 0),a([s(cc.SpriteFrame)],e.prototype,"sf_lvBg_boss",void 0),o=a([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],DataManager:[function(t,e,o){"use strict";cc._RF.push(e,"dc3a2UwCYdJQZKpcmXSLdlV","DataManager");var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./LocalDBManager"),a=cc._decorator,r=a.ccclass,c=(a.property,function(){function t(){this.colorCfg=[],this.skinCfg=[],this._isShake=!1,this._scoreRecord=0,this._scoreBest=0,this._lvRecord=1,this._loginFirst=!1,this._keyNum=0,this._coin=0,this._skinOwn="",this._skinCur="",this.minIndex=1}var e;return e=t,Object.defineProperty(t,"I",{get:function(){return e._I||(e._I=new e),e._I},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShake",{get:function(){return this._isShake},set:function(t){this._isShake=t,i.default.I.shakeState=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scoreRecord",{get:function(){return this._scoreRecord},set:function(t){this._scoreRecord=t,i.default.I.scoreRecord=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scoreBest",{get:function(){return this._scoreBest},set:function(t){this._scoreBest=t,i.default.I.scoreBest=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lvRecord",{get:function(){return this._lvRecord},set:function(t){this._lvRecord=t,i.default.I.lvRecord=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loginFirst",{get:function(){return this._loginFirst},set:function(t){this._loginFirst=t,i.default.I.loginFirst=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyNum",{get:function(){return this._keyNum},set:function(t){if(!(t<0)){if(t>=3){if(this._keyNum>=3)return;t=3}this._keyNum=t,i.default.I.keyNum=t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bgIndex",{get:function(){return this._bgIndex},set:function(t){this._bgIndex=t,i.default.I.bgIndex=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coin",{get:function(){return this._coin},set:function(t){this._coin=t,i.default.I.coin=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinOwn",{get:function(){return this._skinOwn},set:function(t){this._skinOwn=t,i.default.I.skinOwn=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinCur",{get:function(){return this._skinCur},set:function(t){this._skinCur=t,i.default.I.skinCur=t},enumerable:!1,configurable:!0}),t.prototype.checkGrowthRange=function(t){t<=Math.pow(2,10)?this.minIndex=1:this.minIndex=this.get_order(t)-10},t.prototype.get_order=function(t){var e=-1;for(t=t-1>>0;t;)e++;return e},t.prototype.init=function(){this._isShake=i.default.I.shakeState,this._scoreBest=i.default.I.scoreBest,this._scoreRecord=i.default.I.scoreRecord,this._lvRecord=i.default.I.lvRecord,this.keyNum=i.default.I.keyNum,this.bgIndex=i.default.I.bgIndex,this.coin=i.default.I.coin,this.skinOwn=i.default.I.skinOwn,this.skinCur=i.default.I.skinCur,this._loginFirst=i.default.I.loginFirst,this.initColorCfg(),this.initSkinCfg()},t.prototype.initColorCfg=function(){var t={Bg:new cc.Color(104,217,184),Item:new cc.Color(249,87,107),water:new cc.Color(172,214,102),skull:new cc.Color(194,219,104)},e={Bg:new cc.Color(247,114,152),Item:new cc.Color(96,206,101),water:new cc.Color(165,47,179),skull:new cc.Color(194,108,198)},o={Bg:new cc.Color(190,222,88),Item:new cc.Color(37,189,220),water:new cc.Color(96,206,101),skull:new cc.Color(179,217,61)},n={Bg:new cc.Color(176,131,217),Item:new cc.Color(247,224,9),water:new cc.Color(73,79,106),skull:new cc.Color(109,116,169)};this.colorCfg.push(t),this.colorCfg.push(e),this.colorCfg.push(o),this.colorCfg.push(n)},t.prototype.initSkinCfg=function(){this.skinCfg.push({name:"1",type:"coin",v:0}),this.skinCfg.push({name:"2",type:"coin",v:200}),this.skinCfg.push({name:"3",type:"coin",v:300}),this.skinCfg.push({name:"4",type:"coin",v:400}),this.skinCfg.push({name:"5",type:"ad",v:500}),this.skinCfg.push({name:"6",type:"ad",v:600}),this.skinCfg.push({name:"7",type:"ad",v:700})},t.prototype.cutStr=function(t,e){void 0===e&&(e=6);for(var o=0,n="",i=0;i<t.length;++i){var a=t.charCodeAt(i);if((o+=a>0&&a<=128?1:2)>=e){n+=t.charAt(i),i<t.length-1&&(o++,n+="...");break}n+=t.charAt(i)}return o<=e?t:n},t.prototype.switchUnit=function(t){for(var e=0,o=t;o>1e3;)e++,o/=1e3;for(var n=t;n>=1e3;)n%=1e3;var i="";return e>0?(i=["k","m","b"][e-1],Math.floor(o)+(n/100>1?"."+Math.floor(n/100):"")+i):t+""},t.prototype.switchTime=function(t){t=Math.floor(t);var e=Math.floor(t/60/60),o=Math.floor((t-3600*e)/60),n=t%60;return" "+this.addZeroPre(e,2)+" : "+this.addZeroPre(o,2)+" : "+this.addZeroPre(n,2)+" "},t.prototype.addZeroPre=function(t,e){return(Array(e).join("0")+t).slice(-e)},t.prototype.checkSkinOwn=function(t){return-1!=this._skinOwn.split(",").indexOf(t)},t._I=null,e=n([r],t)}());o.default=c,cc._RF.pop()},{"./LocalDBManager":"LocalDBManager"}],EventManager:[function(t,e,o){"use strict";cc._RF.push(e,"db622hjtv1J0IBz67fV0xUQ","EventManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_MainLayerType=o.E_EventType=void 0;var r=cc._decorator,c=r.ccclass;r.property,function(t){t.Log_Show="Log_Show",t.Tip_Show="tip_show",t.Fit_Node="fit_node",t.Res_Load="res_load",t.Res_LoadOver="res_load_over",t.Layer_Switch="layerSwitch",t.Tip_FlyWords="tipFlyWords",t.Coin_Change="coinChange",t.Key_NumChange="keyNumChange",t.Score_Change="score_change",t.Score_NewRecord="score_newRecord",t.Bg_Change="bgChange",t.Role_Change="roleChange",t.Role_Jump="roleJump",t.Role_Die="roleDie",t.Shop_RoleChange="shopRoleChange",t.Lv_Change="lvChange",t.Game_Rest="gameRest",t.Game_Continue="gameContinue",t.Test="test"}(o.E_EventType||(o.E_EventType={})),function(t){t[t.Hall=1]="Hall",t[t.Game=2]="Game",t[t.Result=3]="Result",t[t.Set=4]="Set",t[t.Shop=5]="Shop",t[t.Continue=6]="Continue",t[t.Box=7]="Box"}(o.E_MainLayerType||(o.E_MainLayerType={}));var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._eventList={},e}var o;return i(e,t),o=e,Object.defineProperty(e,"I",{get:function(){return o._I||(o._I=new o),o._I},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._I=this},e.prototype.addEventLintener=function(t,e,o){var n=this._eventList[t],i=!1;if(n&&n.length>0){for(var a=0;a<n.length;++a)if(n[a].target==o){n[a].callback=e,i=!0;break}i||this._eventList[t].push({callback:e,target:o})}else this._eventList[t]=[],this._eventList[t].push({callback:e,target:o})},e.prototype.removeEventByType=function(t,e){var o=this._eventList[t];if(o&&o.length>0)for(var n=0;n<o.length;++n)if(o[n].target==e){this._eventList[t]=null,delete this._eventList[t];break}},e.prototype.removeEvent=function(t){for(var e in this._eventList){var o=this._eventList[e];if(o.length>0)for(var n=0;n<o.length;++n)if(o[n]){if(o[n].target==t){var i=this._eventList[e].indexOf(o[n]);this._eventList[e].splice(i,1)}}else cc.log("eventInfo[i] --------",o)}},e.prototype.handleEvent=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=this._eventList[t];if(n&&n.length>0)for(var i=0;i<n.length;++i)n[i]&&n[i].callback.call(n[i].target,e[0],e)},e._I=null,o=a([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],FitNode:[function(t,e,o){"use strict";cc._RF.push(e,"edb8bNgGY5ENIATkCU6QO3t","FitNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../manager/EventManager"),c=cc._decorator,s=c.ccclass,l=(c.property,c.menu),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){cc.sys.platform==cc.sys.MOBILE_BROWSER&&this.resetWidth(GAttr.canvasWidth)},e.prototype.start=function(){},e.prototype.onDestroy=function(){this.removeEventListener()},e.prototype.addEventListenr=function(){r.default.I.addEventLintener(r.E_EventType.Fit_Node,this.resetWidth,this)},e.prototype.removeEventListener=function(){r.default.I.removeEvent(this)},e.prototype.resetWidth=function(t){this.node.width=t;for(var e=this.node.getComponentsInChildren(cc.Widget),o=0;o<e.length;o++)"water_rect"!=e[o].node.name&&e[o].updateAlignment()},a([s,l("fitNode")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../manager/EventManager":"EventManager"}],FrameRateSet:[function(t,e,o){"use strict";cc._RF.push(e,"cdf90XXJHBO44HBZOQVmAd1","FrameRateSet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isCheck=!1,e._times=0,e}return i(e,t),e.prototype.start=function(){},a([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],GAttr:[function(t,e){"use strict";cc._RF.push(e,"8d89eF/Tq1EPadi2zqy7EJ/","GAttr");var o=new function(){this.visibleSize=cc.size(0,0),this.canvasWidth=750,this.canvasHeight=1334,this.isSwitch=!1,this.isTouch=!1,this.isDown=!1,this.d_v=-5,this.d_baseV=-5,this.roleBaseScale=.34,this.ballIndex=0,this.bossRate=5,this.touchTimes=0};window.GAttr=o,cc._RF.pop()},{}],GEnum:[function(t,e){"use strict";var o,n,i,a,r,c;cc._RF.push(e,"36543sHSRNHRIre9BGJZA6q","GEnum"),function(t){t[t.Shape_Circle=0]="Shape_Circle"}(o||(o={})),function(t){t.hall="hall",t.gaming="gaming",t.set="set",t.result="result",t.shop="shop",t.box="box"}(n||(n={})),function(t){t.preBegin="preBegin",t.gaming="gaming",t.preWin="preWin",t.fail="fail"}(i||(i={})),function(t){t.Default="default",t.Role="role",t.Item="item",t.Barrier="barrier",t.Prop="prop",t.UI="UI"}(a||(a={})),function(t){t.Top="top",t.Bottom="bottom",t.Left="left",t.Right="right"}(r||(r={})),
function(t){t[t.Item=0]="Item",t[t.Barrier=1]="Barrier"}(c||(c={}));var s=new function(){this.GraphycsType=o,this.GameState=i,this.Collider_Group=a,this.C_Stage_Tag=c,this.LayerState=n,this.Node_Pos=r};window.GEnum=s,cc._RF.pop()},{}],GameCtr:[function(t,e,o){"use strict";cc._RF.push(e,"771ffjpK2ZLL533Ea1l15Of","GameCtr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r},r=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var a=arguments[e],r=0,c=a.length;r<c;r++,i++)n[i]=a[r];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.E_MsgType=o.E_CoinType=o.E_GameType=void 0;var c,s=t("./EventManager"),l=t("./SoundManager"),p=t("./DataManager"),d=t("./PoolManager"),_=t("../msgTip"),u=t("../flag"),h=t("./lvCtrl"),f=t("../character/character"),y=t("../dragonFish"),g=t("../bg"),m=t("../ad/AdCtrl"),v=cc._decorator.ccclass;(function(t){t[t.Normal=0]="Normal",t[t.Cocos=1]="Cocos",t[t.Dob5=2]="Dob5",t[t.ChuanYin=3]="ChuanYin",t[t.XiaoXiong=4]="XiaoXiong",t[t.Cocos_h5=5]="Cocos_h5",t[t.Aunit=6]="Aunit",t[t.TT=7]="TT",t[t.GoogleADM=8]="GoogleADM"})(c=o.E_GameType||(o.E_GameType={})),function(t){t[t.hall_single=0]="hall_single",t[t.result_circle=1]="result_circle"}(o.E_CoinType||(o.E_CoinType={})),function(t){t[t.Normal=0]="Normal",t[t.Perfect=1]="Perfect",t[t.Score=2]="Score",t[t.Double=3]="Double"}(o.E_MsgType||(o.E_MsgType={}));var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameType=c.Dob5,e._tollgateInfo={},e._tollgateAllNum=0,e.deltaX_roleAndstage=0,e.n_common=null,e.n_water=null,e.n_bg=null,e.n_msgRoot=null,e.n_resultBg=null,e.n_game_content=null,e.n_curStage=null,e.n_nextStage=null,e.n_role=null,e.n_mainCamera=null,e.n_fish=null,e.n_waterDrop=null,e.n_coinRoot=null,e.n_keyRoot=null,e.n_flag=null,e.gameState=null,e.layerState=null,e.msgArr=[],e.isLoadOver=!1,e.deltaY_mc_water=0,e.deltaY_mc_role=0,e.isWin=!1,e.isShield=!1,e.isInvincible=!1,e.invincibleTime=5,e.invincibleBaseTime=5,e.isShieldShake=!1,e.isRecord=!1,e.isFish=!1,e.isFish_ctrlAmn=!1,e.preStepTime=0,e.selectSkinName="",e.gameTims=0,e}var o;return i(e,t),o=e,Object.defineProperty(e,"I",{get:function(){return o._I||(o._I=new o),o._I},enumerable:!1,configurable:!0}),e.prototype.enableCollision=function(t){cc.director.getCollisionManager().enabled=t},e.prototype.enableCollisionDebugDraw=function(t){cc.director.getCollisionManager().enabledDebugDraw=t,cc.director.getCollisionManager().enabledDrawBoundingBox=t},e.prototype.checkPlayVideo=function(){this.gameTims>=2&&m.default.I.isLoad_rewarded()&&(this.gameTims=0,m.default.I.type=m.E_AdType.None,m.default.I.showRewardedVideoAd())},e.prototype.checkOpenBox=function(){return p.default.I.keyNum>=3},e.prototype.checkWin=function(){o.I.n_curStage&&o.I.n_curStage.stageIndex==h.default.I.stageNum-1&&!o.I.isWin&&(this.scheduleOnce(function(){o.I.checkOpenBox()?s.default.I.handleEvent(s.E_EventType.Layer_Switch,s.E_MainLayerType.Box):s.default.I.handleEvent(s.E_EventType.Layer_Switch,s.E_MainLayerType.Result)},2),o.I.isWin=!0,o.I.isBossLv()&&o.I.fish(!1),o.I.n_flag&&o.I.n_flag.getComponent(u.default).act())},e.prototype.showMsg=function(t,e,o){void 0===o&&(o=cc.v2(0,0));var n={msg:t,type:e,pos:o};this.msgArr.push(n),cc.director.getScheduler().isScheduled(this.time_flyWords,this)||(this.schedule(this.time_flyWords,.35),this.time_flyWords())},e.prototype.die=function(){o.I.n_role.getComponent(f.default).die()},e.prototype.time_flyWords=function(){if(0==this.msgArr.length)this.unschedule(this.time_flyWords);else{var t=this.msgArr.shift(),e=t.msg,o=t.type,n=t.pos,i=d.default.I.getItem(d.E_PoolType.GameMsgTip);i.parent=this.n_game_content,i.getComponent(_.default).act(e,o,n)}},e.prototype.fish=function(t){if(void 0===t&&(t=!0),cc.Tween.stopAllByTarget(o.I.n_fish),t){var e=o.I.n_role.y+o.I.deltaY_mc_role-o.I.deltaY_mc_water,n=e-400;cc.tween(o.I.n_fish).to(4,{y:e-200},{easing:"cubicOut"}).call(function(){o.I.n_fish.getComponent(y.default).reset(),o.I.isFish_ctrlAmn=!1,GAttr.isTouch=!1}).delay(.01).call(function(){o.I.n_fish.getComponent(dragonBones.ArmatureDisplay).playAnimation("back",1),o.I.n_bg.getComponent(g.default).wave()}).parallel(cc.tween().by(.5,{y:800},{easing:"cubicOut"}),cc.tween().delay(.3).call(function(){l.default.I.playEffectType(l.E_SoundType.fishEat)})).call(function(){o.I.n_role.opacity=0}).parallel(cc.tween().to(.5,{y:n},{easing:"cubicIn"}),cc.tween().delay(.3).call(function(){l.default.I.playEffectType(l.E_SoundType.fishDropWater)})).call(function(){o.I.die()}).start()}},e.prototype.waterDrop=function(){if(!o.I.n_waterDrop.active){l.default.I.playEffectType(l.E_SoundType.dropWater),o.I.n_waterDrop.active||(o.I.n_waterDrop.active=!0);var t=o.I.n_role.x;o.I.n_waterDrop.x=t,o.I.n_waterDrop.y=o.I.n_water.y+o.I.n_water.height*(1-o.I.n_water.anchorY)-200;var e=o.I.n_waterDrop.getComponent(cc.ParticleSystem);e.resetSystem(),e.enabled=!0,e.startColor=p.default.I.colorCfg[p.default.I.bgIndex].water,e.endColor=p.default.I.colorCfg[p.default.I.bgIndex].water,this.scheduleOnce(function(){e.resetSystem(),e.enabled=!1,o.I.n_waterDrop.active=!1},1)}},e.prototype.amn_shield=function(t){o.I.isShield=!0;var e=d.default.I.getItem(d.E_PoolType.Amn_KeyGain);e.parent=o.I.n_game_content,e.setPosition(t);var n=e.getComponent(cc.ParticleSystem);n.resetSystem(),n.enabled=!0,this.scheduleOnce(function(){n&&cc.isValid(n)&&(n.enabled=!1)},.1)},e.prototype.addScore=function(t){o.I.n_role.getComponent(f.default).addScore(t)},e.prototype.isBossLv=function(){return p.default.I.lvRecord%5==0&&0!=p.default.I.lvRecord},e.prototype.getRolePos_Screen=function(){var t=o.I.n_role.convertToWorldSpaceAR(cc.v2(0,0)),e=cc.v2();return o.I.n_mainCamera.getComponent(cc.Camera).getWorldToScreenPoint(t,e),e},e.prototype.getRolePos_World=function(){return o.I.n_role.convertToWorldSpaceAR(cc.v2(0,0))},e.prototype.getPosScreenByWorldPos=function(t){var e=cc.v2();return o.I.n_mainCamera.getComponent(cc.Camera).getWorldToScreenPoint(t,e),e},e.prototype.checkFromURL=function(){return!0},e.prototype.checkShake=function(){return cc.sys.isBrowser?!!(cc.sys.isMobile&&window.navigator&&window.navigator.vibrate)&&(cc.log("platform = browse"),!0):cc.sys.os==cc.sys.OS_ANDROID?(cc.log("platform = android"),!0):void 0},e.prototype.vibrate=function(t){void 0===t&&(t=40),cc.log("...is can vibrate = ",p.default.I.isShake,cc.sys.os,cc.sys.OS_ANDROID,cc.sys.isMobile),p.default.I.isShake&&(cc.sys.isBrowser?window.navigator&&window.navigator.vibrate&&window.navigator.vibrate(t):cc.sys.os==cc.sys.OS_ANDROID&&(cc.log("..android...vibrate..."),this.callJava_ad("vibrate","(I)V",[t])))},e.prototype.reWriteOnTouchEnd=function(){cc.Button.prototype._onTouchEnded=function(t){var e=!1;if(this.interactable&&this.enabledInHierarchy&&!t.target.isClick&&!GAttr.isSwitch||(e=!0),!e){cc.log("..event.target.name ...",t.target.name);var o=this;t.target.isClick=!0,this._pressed&&("n_touch"==t.target.name?(cc.Component.EventHandler.emitEvents(o.clickEvents,t),o.node.emit("click",o),t.target.isClick=!1):("a_tg_s"==t.target.name||"a_tg_m"==t.target.name||"a_tg_v"==t.target.name?l.default.I.playEffectType(l.E_SoundType.click_set):l.default.I.playEffectType(l.E_SoundType.click),setTimeout(function(){o.clickEvents&&t&&cc.Component.EventHandler.emitEvents(o.clickEvents,t),o.node&&o.node.emit("click",o),t&&(t.target.isClick=!1)},200)))}this._pressed=!1,this._updateState(),t.stopPropagation()}},e.prototype.fit=function(){var t=cc.view.getVisibleSize(),e=(cc.view.getCanvasSize(),cc.view.getFrameSize()),o=cc.winSize;if(cc.view.getDesignResolutionSize(),GAttr.visibleSize.width=t.width,GAttr.visibleSize.height=t.height,cc.sys.platform!=cc.sys.DESKTOP_BROWSER){var n=o.width/o.height,i=e.width/e.height;if(cc.sys.platform!=cc.sys.ANDROID&&cc.sys.platform!=cc.sys.IPHONE||(i=t.width/t.height),n>i)cc.view.setDesignResolutionSize(750,1334,cc.ResolutionPolicy.FIXED_WIDTH);else{cc.view.setDesignResolutionSize(750,1334,cc.ResolutionPolicy.FIXED_HEIGHT);var a=cc.winSize.width*(i-n+1);cc.find("Canvas").width=a,GAttr.canvasWidth=a,cc.log("canvasWidth fit end = ",a),s.default.I.handleEvent(s.E_EventType.Fit_Node,a)}}},e.prototype.callJava=function(t,e,o){void 0===o&&(o=[]),cc.log(e+"   --callJava--  param: ",o),cc.log.apply(cc,r([t,e],o))},e.prototype.callJava_ad=function(t,e,o){void 0===o&&(o=[]),cc.log(e+"   --callJava--  param: ",o),cc.log.apply(cc,r([t,e],o))},e.prototype.isJSBAd=function(){return!1},e._I=null,o=a([v],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../ad/AdCtrl":"AdCtrl","../bg":"bg","../character/character":"character","../dragonFish":"dragonFish","../flag":"flag","../msgTip":"msgTip","./DataManager":"DataManager","./EventManager":"EventManager","./PoolManager":"PoolManager","./SoundManager":"SoundManager","./lvCtrl":"lvCtrl"}],GraphicsBev:[function(t,e,o){"use strict";cc._RF.push(e,"97d35nFtBREu49gh9OJ9I8U","GraphicsBev");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../manager/EventManager"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=GEnum.GraphycsType.Shape_Circle,e.radius=0,e.center=cc.v2(0,0),e.isUpdate=!1,e.gh=null,e}return i(e,t),e.prototype.onLoad=function(){this.gh=this.node.getComponent(cc.Graphics)},e.prototype.onDestroy=function(){this.removeEventListener()},e.prototype.addEventListener=function(){},e.prototype.removeEventListener=function(){r.default.I.removeEvent(this)},e.prototype.start=function(){},e.prototype.update=function(){if(this.isUpdate)switch(this.type){case GEnum.GraphycsType.Shape_Circle:this.handleShape_Circle()}},e.prototype.handleShape_Circle=function(){var t=this.node.children[0].convertToWorldSpaceAR(cc.v2(0,0)),e=this.node.convertToWorldSpaceAR(cc.v2(0,0)),o=t.sub(e);this.gh.clear(),this.gh.circle(o.x,o.y,this.radius),this.gh.stroke()},a([l({type:cc.Enum(GEnum.GraphycsType)})],e.prototype,"type",void 0),a([l({visible:function(){return this.type==GEnum.GraphycsType.Shape_Circle}})],e.prototype,"radius",void 0),a([l({visible:function(){return this.type==GEnum.GraphycsType.Shape_Circle}})],e.prototype,"center",void 0),a([l],e.prototype,"isUpdate",void 0),a([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../manager/EventManager":"EventManager"}],LocalDBManager:[function(t,e,o){"use strict";cc._RF.push(e,"e2d82lS5IxPTL4nQFjmWWQz","LocalDBManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_DBType=void 0;var r,c=cc._decorator,s=c.ccclass;c.property,function(t){t.e_musicState="musicState",t.e_effectState="effectState",t.e_shakeState="shakeState",t.Score_Record="scoreRecord",t.Score_Best="scoreBest",t.Lv_Record="lvRecord",t.Key_Num="keyNum",t.Bg_Index="bgIndex",t.Coin="coin",t.Skin_Own="skinOwn",t.Skin_Cur="skinCur",t.Login_First="login_first"}(r=o.E_DBType||(o.E_DBType={}));var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,Object.defineProperty(e,"I",{get:function(){return o._I||(o._I=new o),o._I},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"musicState",{get:function(){return"false"!=cc.sys.localStorage.getItem(r.e_musicState)},set:function(t){cc.sys.localStorage.setItem(r.e_musicState,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"effectState",{get:function(){return"false"!=cc.sys.localStorage.getItem(r.e_effectState)},set:function(t){cc.sys.localStorage.setItem(r.e_effectState,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shakeState",{get:function(){return"false"!=cc.sys.localStorage.getItem(r.e_shakeState)},set:function(t){cc.sys.localStorage.setItem(r.e_shakeState,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scoreRecord",{get:function(){var t=cc.sys.localStorage.getItem(r.Score_Record);return t?parseInt(t):0},set:function(t){cc.sys.localStorage.setItem(r.Score_Record,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scoreBest",{get:function(){var t=cc.sys.localStorage.getItem(r.Score_Best);return t?parseInt(t):0},set:function(t){cc.sys.localStorage.setItem(r.Score_Best,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lvRecord",{get:function(){var t=cc.sys.localStorage.getItem(r.Lv_Record);return t?parseInt(t):1},set:function(t){cc.sys.localStorage.setItem(r.Lv_Record,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keyNum",{get:function(){var t=cc.sys.localStorage.getItem(r.Key_Num);return t?parseInt(t):0},set:function(t){cc.sys.localStorage.setItem(r.Key_Num,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bgIndex",{get:function(){var t=cc.sys.localStorage.getItem(r.Bg_Index);return t?parseInt(t):0},set:function(t){cc.sys.localStorage.setItem(r.Bg_Index,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coin",{get:function(){var t=cc.sys.localStorage.getItem(r.Coin);return t?parseInt(t):0},set:function(t){cc.sys.localStorage.setItem(r.Coin,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skinOwn",{get:function(){return cc.sys.localStorage.getItem(r.Skin_Own)||"1"},set:function(t){cc.sys.localStorage.setItem(r.Skin_Own,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skinCur",{get:function(){return cc.sys.localStorage.getItem(r.Skin_Cur)||"1"},set:function(t){cc.sys.localStorage.setItem(r.Skin_Cur,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginFirst",{get:function(){return!cc.sys.localStorage.getItem(r.Login_First)},set:function(t){cc.sys.localStorage.setItem(r.Login_First,t)},enumerable:!1,configurable:!0}),e.prototype.clear=function(){cc.sys.localStorage.clear()},e._I=null,o=a([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],MoveAct:[function(t,e,o){"use strict";cc._RF.push(e,"56c3f2D5VhOhpM1VjTlHyZ7","MoveAct");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_MoveActType=void 0;var r,c=cc._decorator,s=c.ccclass,l=c.property,p=c.menu;(function(t){t[t.Normal=0]="Normal",t[t.L2R_bounce=1]="L2R_bounce",t[t.M2D_Normal=2]="M2D_Normal"})(r=o.E_MoveActType||(o.E_MoveActType={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.Normal,e.delayPos=cc.v2(0,0),e.speed=80,e.isPlayedOnLoad=!1,e}return i(e,t),e.prototype.start=function(){this.isPlayedOnLoad&&this.act()},e.prototype.act=function(){switch(this.type){case r.L2R_bounce:this.handle_l2r_bounce();break;case r.M2D_Normal:this.handle_m2d_normal()}},e.prototype.handle_l2r_bounce=function(){var t=this.delayPos.mag()/this.speed;cc.tween(this.node).repeatForever(cc.tween().by(t,{x:this.delayPos.x,y:this.delayPos.y},{easing:"sineInOut"}).by(t,{x:-this.delayPos.x,y:-this.delayPos.y},{easing:"sineInOut"})).start()},e.prototype.handle_m2d_normal=function(){var t=this.delayPos.mag()/this.speed;cc.tween(this.node).repeatForever(cc.tween().by(t,{x:this.delayPos.x,y:this.delayPos.y},{easing:"sineInOut"}).by(t,{x:-this.delayPos.x,y:-this.delayPos.y},{easing:"sineInOut"})).start()},a([l({type:cc.Enum(r)})],e.prototype,"type",void 0),a([l],e.prototype,"delayPos",void 0),a([l],e.prototype,"speed",void 0),a([l({tooltip:"是否加载后，直接播放"})],e.prototype,"isPlayedOnLoad",void 0),a([s,p("act/MoveAct")],e)}(cc.Component);o.default=d,cc._RF.pop()},{}],NumGrowth:[function(t,e,o){"use strict";cc._RF.push(e,"01ab9dQh8hJIJUQh372+7uY","NumGrowth");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,r.menu),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._aimNum=0,e._curNum=0,e._step=0,e._preStr="",e._endStr="",e}return i(e,t),e.prototype.start=function(){},e.prototype.growth=function(t,e,o,n){void 0===o&&(o=""),void 0===n&&(n=""),this._curNum=t,this._aimNum=e,this._step=Math.round((this._aimNum-this._curNum)/30),this._preStr=o,this._endStr=n},e.prototype.update=function(){if(this._curNum!=this._aimNum&&(Math.abs(this._curNum-this._aimNum)<10&&(this._step=this._curNum<this._aimNum?1:-1),this._curNum!=this._aimNum)){this._curNum+=this._step,(this._step>0&&this._curNum>this._aimNum||this._step<0&&this._curNum<this._aimNum)&&(this._curNum=this._aimNum);var t=this.switchUnit(this._curNum);this.node.getComponent(cc.Label).string=this._preStr+t+this._endStr}},e.prototype.switchUnit=function(t){for(var e=["K","M","B","T"],o=0,n=t;n>1e3;)o++,n/=1e3;var i="";return o>0?(i=o>e.length?e[e.length-1]:e[o-1],Math.round(n)+i):t+""},a([c,s("act/NumGrowth")],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],NumShake:[function(t,e,o){"use strict";cc._RF.push(e,"53784CCGXhPpp3++cv7c0PJ","NumShake");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,r.menu),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._shakeTime=.5,e._shakeReduce=.1,e._shakeBaseRange=8,e._curShakeRange=0,e._aimScale=1.5,e._scaleReduce=.01,e._initPos=new cc.Vec2,e}return i(e,t),e.prototype.onLoad=function(){this._initPos=cc.v2(this.node.x,this.node.y)},e.prototype.start=function(){},e.prototype.shake=function(){this._shakeTime=1,this._curShakeRange=this._shakeBaseRange,this.node.scale=this._aimScale},e.prototype.update=function(t){if(this._shakeTime>0){this._shakeTime-=t;var e=this._curShakeRange-1>0?this._curShakeRange-1:0;this.node.x=this._initPos.x+Math.random()*this._curShakeRange+e,this.node.y=this._initPos.y+Math.random()*this._curShakeRange+e,this._curShakeRange-=this._shakeReduce,this.node.scale<=1?this.node.scale=1:this.node.scale-=this._scaleReduce}else this.node.setPosition(this._initPos)},a([c,s("act/NumShake")],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PoolManager:[function(t,e,o){"use strict";cc._RF.push(e,"5f876Ww4WRFN7ApkbpmLuBd","PoolManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_PoolType=void 0;var r=cc._decorator,c=r.ccclass,s=r.property;(function(t){t.shopRoleItem="pfb_shopItem",t.Item_Normal="item_normal",t.Item_Barb="item_barb",t.Item_BarbUp="item_barbUp",t.Item_Block="item_block",t.Item_Break="item_break",t.Item_Glue="item_glue",t.Item_Moter="item_moter",t.Flag="flag",t.Prop_Coin="prop_coin",t.Prop_Exp="prop_exp",t.Prop_Key="prop_key",t.Prop_Shield="prop_shield",t.Barrier_Arrow="barrier_arrow",t.Barrier_ArrowItem="barrier_arrowItem",t.Barrier_Barb="barrier_barb",t.Barrier_Darts="barrier_darts",t.Role="character",t.Amn_Coin="amn_coin",t.Amn_Key="amn_key",t.MsgTip="msgTip",t.GameMsgTip="gameMsgTip",t.Amn_OpenBox="amn_openBox",t.Amn_tail="amn_tail",t.Amn_KeyGain="amn_keyGain"})(o.E_PoolType||(o.E_PoolType={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pfb_shopItem=null,e.pfb_normal=null,e.pfb_barbUp=null,e.pfb_block=null,e.pfb_break=null,e.pfb_glue=null,e.pfb_moter=null,e.flag=null,e.pfb_coin=null,e.pfb_exp=null,e.pfb_key=null,e.pfb_shield=null,e.pfb_arrow=null,e.pfb_arrowItem=null,e.pfb_darts=null,e.pfb_barb=null,e.pfb_character=null,e.pfb_amnCoin=null,e.pfb_amnKey=null,e.pfb_msgTip=null,e.pfb_gameMsgTip=null,e.pfb_amn_openBox=null,e.pfb_amn_tail=null,e.pfb_amn_keyGain=null,e._pool={},e._prefab={},e}var o;return i(e,t),o=e,Object.defineProperty(e,"I",{get:function(){return o._I},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._I=this,this.init()},e.prototype.init=function(){this.initPool(this.pfb_shopItem,7),this.initPool(this.pfb_barbUp,7,"item"),this.initPool(this.pfb_block,7,"item"),this.initPool(this.pfb_break,7,"item"),this.initPool(this.pfb_glue,7,"item"),this.initPool(this.pfb_normal,7,"item"),this.initPool(this.pfb_moter,7,"item"),this.initPool(this.flag,1),this.initPool(this.pfb_coin,7,"prop"),this.initPool(this.pfb_exp,7,"prop"),this.initPool(this.pfb_key,3,"prop"),this.initPool(this.pfb_shield,3,"prop"),this.initPool(this.pfb_arrow,7,"barrier_arrow"),this.initPool(this.pfb_arrowItem,7,"barrier"),this.initPool(this.pfb_darts,3,"barrier"),this.initPool(this.pfb_barb,7,"barrier"),this.initPool(this.pfb_character,1,"character"),this.initPool(this.pfb_amnCoin,5),this.initPool(this.pfb_amnKey,5),this.initPool(this.pfb_msgTip,5,"msgTip"),this.initPool(this.pfb_gameMsgTip,5,"msgTip"),this.initPool(this.pfb_amn_openBox,1),this.initPool(this.pfb_amn_tail,1),this.initPool(this.pfb_amn_keyGain,1)},e.prototype.initPool=function(t,e,o){void 0===o&&(o=""),this._prefab[t.name]=t;var n=new cc.NodePool(o||t.name);this._pool[t.name]=n;for(var i=0;i<e;i++){var a=cc.instantiate(t);n.put(a)}},e.prototype.getItem=function(t,e){void 0===e&&(e=!1);var o=this._pool[t];return o&&o.size()>0?o.get():cc.instantiate(this._prefab[t])},e.prototype.returnItem=function(t){if(t&&cc.isValid(t,!0)){var e=this._pool[t.name];e?e.put(t):t.destroy()}},e._I=null,a([s(cc.Prefab)],e.prototype,"pfb_shopItem",void 0),a([s(cc.Prefab)],e.prototype,"pfb_normal",void 0),a([s(cc.Prefab)],e.prototype,"pfb_barbUp",void 0),a([s(cc.Prefab)],e.prototype,"pfb_block",void 0),a([s(cc.Prefab)],e.prototype,"pfb_break",void 0),a([s(cc.Prefab)],e.prototype,"pfb_glue",void 0),a([s(cc.Prefab)],e.prototype,"pfb_moter",void 0),a([s(cc.Prefab)],e.prototype,"flag",void 0),a([s(cc.Prefab)],e.prototype,"pfb_coin",void 0),a([s(cc.Prefab)],e.prototype,"pfb_exp",void 0),a([s(cc.Prefab)],e.prototype,"pfb_key",void 0),a([s(cc.Prefab)],e.prototype,"pfb_shield",void 0),a([s(cc.Prefab)],e.prototype,"pfb_arrow",void 0),a([s(cc.Prefab)],e.prototype,"pfb_arrowItem",void 0),a([s(cc.Prefab)],e.prototype,"pfb_darts",void 0),a([s(cc.Prefab)],e.prototype,"pfb_barb",void 0),a([s(cc.Prefab)],e.prototype,"pfb_character",void 0),a([s(cc.Prefab)],e.prototype,"pfb_amnCoin",void 0),a([s(cc.Prefab)],e.prototype,"pfb_amnKey",void 0),a([s(cc.Prefab)],e.prototype,"pfb_msgTip",void 0),a([s(cc.Prefab)],e.prototype,"pfb_gameMsgTip",void 0),a([s(cc.Prefab)],e.prototype,"pfb_amn_openBox",void 0),a([s(cc.Prefab)],e.prototype,"pfb_amn_tail",void 0),a([s(cc.Prefab)],e.prototype,"pfb_amn_keyGain",void 0),o=a([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ProgressBev:[function(t,e,o){"use strict";cc._RF.push(e,"e0f709+EVJFbKatLRmFykxS","ProgressBev");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r,c=cc._decorator,s=c.ccclass,l=c.property;(function(t){t[t.Add=0]="Add",t[t.Reduce=1]="Reduce",t[t.Add_Reduce=2]="Add_Reduce"})(r||(r={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.Add,e._step=.01,e._aimV=0,e._isUpdate=!0,e}return i(e,t),e.prototype.start=function(){},e.prototype.udpateData=function(t,e){e&&(this._finishCb=e);var o=this.node.getComponent(cc.ProgressBar).progress;if(this.type==r.Add){if(o>=1)return;this._step=.01,t=t>1?1:t}else if(this.type==r.Reduce){if(o<=0)return;this._step=-.01,t=t<0?0:t}else this._step=t>o?.01:-.01;this._aimV=t<.01?.01:t,this._isUpdate=!0},e.prototype.update=function(){if(this._isUpdate){var t=this.node.getComponent(cc.ProgressBar).progress;if(this._aimV!=t){var e=t+this._step;e=this._step>0?e>=this._aimV?this._aimV:e:e<=this._aimV?this._aimV:e,this.node.getComponent(cc.ProgressBar).progress=e,Math.abs(e-this._aimV)<1e-4&&(this._isUpdate=!1,this._finishCb&&this._finishCb())}}},a([l({type:cc.Enum(r)})],e.prototype,"type",void 0),a([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],RepeatMove:[function(t,e,o){"use strict";cc._RF.push(e,"49356xApOlF/pkpnyCcv/ux","RepeatMove");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_RMove_Direction=void 0;var r,c=cc._decorator,s=c.ccclass,l=c.property;(function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"})(r=o.E_RMove_Direction||(o.E_RMove_Direction={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.HORIZONTAL,e.moveSpeed=0,e.referenceNode=null,e.ratio=0,e._refNodeBeginPos=0,e._refNodeCurPos=0,e._prePos=0,e._isInit=!1,e._cur1Pos=0,e._cur2Pos=0,e}return i(e,t),e.prototype.start=function(){this.addEventListener()},e.prototype.onDestroy=function(){this.removeEventListener()},e.prototype.addEventListener=function(){},e.prototype.removeEventListener=function(){},e.prototype.init=function(){this.referenceNode&&(this._isInit=!0,this._refNodeBeginPos=this._refNodeCurPos=0,this._cur1Pos=0,this._cur2Pos=this.type==r.HORIZONTAL?this.node.children[0].width:this.node.children[0].height,this.node.children[0].deltaPos=0,this.node.children[1].deltaPos=0,this._prePos=this.type==r.HORIZONTAL?this.referenceNode.x:this.referenceNode.y)},e.prototype.reset=function(){this.referenceNode&&(this.type==r.HORIZONTAL?(this.node.children[0].x=this._cur1Pos,this.node.children[1].x=this._cur2Pos):(this.node.children[0].y=this._cur1Pos,this.node.children[1].y=this._cur2Pos),this.node.children[0].deltaPos=0,this.node.children[1].deltaPos=0)},e.prototype.update=function(){this.referenceNode?this._isInit&&this.ownReference():this.noReference()},e.prototype.ownReference=function(){this._refNodeCurPos=this.type==r.HORIZONTAL?this.referenceNode.x:this.referenceNode.y;var t=this._refNodeCurPos-this._refNodeBeginPos,e=this.node.children[0],o=this.node.children[1],n=e,i=o;this.type==r.HORIZONTAL?(o.x=t*this.ratio/100+this._cur2Pos+o.deltaPos,e.x=t*this.ratio/100+this._cur1Pos+e.deltaPos,e.x>o.x&&(n=o,i=e),this.moveSpeed=this.referenceNode.x-this._prePos,this.moveSpeed>0?n.x<=this.referenceNode.x-n.height&&(n.x+=2*n.height,n.deltaPos+=2*n.height):this.moveSpeed<0&&i.x>=this.referenceNode.x+i.height&&(i.x-=2*i.height,i.deltaPos-=2*i.height),this._prePos=this.referenceNode.x):(o.y=t*this.ratio/100+this._cur2Pos+o.deltaPos,e.y=t*this.ratio/100+this._cur1Pos+e.deltaPos,e.y>o.y&&(n=o,i=e),this.moveSpeed=this.referenceNode.y-this._prePos,this.moveSpeed>0?n.y<=this.referenceNode.y-n.height&&(n.y+=2*n.height,n.deltaPos+=2*n.height):this.moveSpeed<0&&i.y>=this.referenceNode.y+i.height&&(i.y-=2*i.height,i.deltaPos-=2*i.height),this._prePos=this.referenceNode.y)},e.prototype.noReference=function(){var t=this.node.children[0],e=this.node.children[1]
;this.type==r.HORIZONTAL?(t.x+=this.moveSpeed,e.x+=this.moveSpeed):(t.y+=this.moveSpeed,e.y+=this.moveSpeed),this.check()},e.prototype.check=function(){var t=this.node.children[0],e=this.node.children[1];this.type==r.HORIZONTAL?this.moveSpeed>0?t.x>=t.width?t.x=e.x-e.width+.05:e.x>=e.width&&(e.x=t.x-t.width+.05):t.x<=-t.width?t.x=e.width+e.x-.05:e.x<=-e.width&&(e.x=t.width+t.x-.05):this.moveSpeed>0?t.y>=t.height?t.y=e.y-e.height+.05:e.y>=e.height&&(e.y=t.y-t.height+.05):t.y<=-t.height?t.y=e.height+e.y-.05:e.y<=-e.height&&(e.y=t.height+t.y-.05)},a([l({type:cc.Enum(r)})],e.prototype,"type",void 0),a([l({visible:function(){return null==this.referenceNode}})],e.prototype,"moveSpeed",void 0),a([l(cc.Node)],e.prototype,"referenceNode",void 0),a([l({visible:function(){return null!=this.referenceNode}})],e.prototype,"ratio",void 0),a([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ResManager:[function(t,e,o){"use strict";cc._RF.push(e,"a6497RJqHNAvaA+plHYHPi5","ResManager");var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_PrefabPath=void 0;var i=t("./EventManager"),a=cc._decorator.ccclass;o.E_PrefabPath||(o.E_PrefabPath={});var r=function(){function t(){this._prefabLoading=[],this._arr=[],this._loadIndex=0,this._loadTotal=0}var e;return e=t,Object.defineProperty(t,"I",{get:function(){return e._I||(e._I=new e),e._I},enumerable:!1,configurable:!0}),t.prototype.preLoad=function(){this._arr=[{isDir:!0,type:cc.Prefab,path:"prefab/items"},{isDir:!0,type:cc.Prefab,path:"prefab/shop"},{isDir:!0,type:cc.Prefab,path:"prefab"}],this._loadTotal=this._loadIndex=this._arr.length,cc.log("this._loadTall = ",this._loadTotal),this._arr.length>0&&this.loadItem(this._arr[0])},t.prototype.loadItem=function(t){var e=this;t.isDir?(cc.log("..............dir"),cc.resources.preloadDir(t.path,function(){e._loadIndex--,i.default.I.handleEvent(i.E_EventType.Res_Load,(e._loadTotal-e._loadIndex)/e._loadTotal),e._loadIndex>0&&e.loadItem(e._arr[e._loadTotal-e._loadIndex])})):(cc.log("..............path"),cc.resources.preload(t.path,function(){e._loadIndex--,i.default.I.handleEvent(i.E_EventType.Res_Load,(e._loadTotal-e._loadIndex)/e._loadTotal),e._loadIndex>0&&e.loadItem(e._arr[e._loadTotal-e._loadIndex])}))},t.prototype.loadHeader=function(t,e){e?this.loadImg(t,{url:e,type:"png"}):this.loadLocalImg(t,"textures/hd_normal")},t.prototype.loadImg=function(t,e,o){if(void 0===o&&(o=!1),t&&e){var n=this;cc.assetManager.loadRemote(e,function(e,i){i.addRef(),!e&&t&&cc.isValid(t,!0)?(new cc.Texture2D,t.spriteFrame=new cc.SpriteFrame(i)):(cc.log("loadImg error = ",e),o&&n.loadHeader(t,""))})}},t.prototype.loadLocalImg=function(t,e){cc.resources.load(e,cc.SpriteFrame,function(e,o){!e&&t&&cc.isValid(t,!0)&&(o.addRef(),t.spriteFrame=o)})},t.prototype.loadLocalAtlasImg=function(t,e,o){cc.resources.load(e,cc.SpriteAtlas,function(e,n){if(!e&&t&&cc.isValid(t,!0)){n.addRef();var i=n.getSpriteFrame(o);i&&(t.spriteFrame=i)}})},t.prototype.loadJson=function(t,e){cc.resources.load(t,cc.JsonAsset,function(t,o){t||(o.addRef(),e&&e(o.json))})},t.prototype.getPrefab=function(t,e,o,n,i){if(void 0===n&&(n=null),void 0===i&&(i=!1),t&&!this._prefabLoading[t]||i){i||(this._prefabLoading[t]=!0);var a=this;cc.resources.load(t,cc.Prefab,function(i,r){a._prefabLoading[t]&&(a._prefabLoading[t]=!1),i?cc.error(i):(r.addRef(),o.call(e,r,n))})}this._prefabLoading[t]&&cc.log("loading prefab = ",t)},t._I=null,e=n([a],t)}();o.default=r,cc._RF.pop()},{"./EventManager":"EventManager"}],RotateAct:[function(t,e,o){"use strict";cc._RF.push(e,"7ee04YwV2RPBbBJx9gZUOpI","RotateAct");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_RotateType=void 0;var r,c=cc._decorator,s=c.ccclass,l=c.property,p=c.menu;(function(t){t[t.Normal=0]="Normal"})(r=o.E_RotateType||(o.E_RotateType={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.Normal,e.speed=180,e.isPlayedOnLoad=!1,e.clockwise=!0,e}return i(e,t),e.prototype.start=function(){this.isPlayedOnLoad&&this.act()},e.prototype.act=function(t){switch(void 0===t&&(t=null),this.type){case r.Normal:this.handle_normal()}},e.prototype.handle_normal=function(){var t=this.clockwise?this.speed:-1*this.speed;cc.tween(this.node).repeatForever(cc.tween().by(1,{angle:t})).start()},e.prototype.reset=function(){cc.Tween.stopAllByTarget(this.node),this.act()},a([l({type:cc.Enum(r),tooltip:"进度条类型"})],e.prototype,"type",void 0),a([l({tooltip:"the angle changed in one second"})],e.prototype,"speed",void 0),a([l({tooltip:"是否加载后，直接播放"})],e.prototype,"isPlayedOnLoad",void 0),a([l],e.prototype,"clockwise",void 0),a([s,p("act/RotateAct")],e)}(cc.Component);o.default=d,cc._RF.pop()},{}],ScaleAct:[function(t,e,o){"use strict";cc._RF.push(e,"315f7Q2xuFEqJn0/CVFAegs","ScaleAct");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_ScaleType=void 0;var r,c=cc._decorator,s=c.ccclass,l=c.property,p=c.menu;(function(t){t[t.S_Scale=0]="S_Scale",t[t.S_Scale_Delay=1]="S_Scale_Delay",t[t.S_Scale_Twice=2]="S_Scale_Twice"})(r=o.E_ScaleType||(o.E_ScaleType={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.S_Scale,e.scale_max=1.2,e.scale_min=1,e.speed=1,e.delayTime=.1,e.isPlayedOnLoad=!1,e._initScale=new cc.Vec2(0,0),e._aimScale_min=new cc.Vec2(0,0),e._aimScale_max=new cc.Vec2(0,0),e}return i(e,t),e.prototype.onLoad=function(){this._initScale=cc.v2(this.node.scaleX,this.node.scaleY)},e.prototype.start=function(){this.isPlayedOnLoad&&this.act()},e.prototype.act=function(){switch(this.type){case r.S_Scale:this.handleS_Scale();break;case r.S_Scale_Delay:this.handleS_Scale_Delay();break;case r.S_Scale_Twice:this.handleS_Scale_Twice()}},e.prototype.handleS_Scale=function(){this._aimScale_max=cc.v2(this._initScale.x*this.scale_max,this._initScale.y*this.scale_max),this._aimScale_min=cc.v2(this._initScale.x*this.scale_min,this._initScale.y*this.scale_min);var t=(this._aimScale_max.x-this._initScale.x)/(this._aimScale_max.x-this._aimScale_min.x)*this.speed;cc.tween(this.node).repeatForever(cc.tween().to(t,{scaleX:this._aimScale_max.x,scaleY:this._aimScale_max.y}).to(this.speed,{scaleX:this._aimScale_min.x,scaleY:this._aimScale_min.y}).to(this.speed-t,{scaleX:this._initScale.x,scaleY:this._initScale.y})).start()},e.prototype.handleS_Scale_Delay=function(){this._aimScale_max=cc.v2(this._initScale.x*this.scale_max,this._initScale.y*this.scale_max),this._aimScale_min=cc.v2(this._initScale.x*this.scale_min,this._initScale.y*this.scale_min);var t=(this._aimScale_max.x-this._initScale.x)/(this._aimScale_max.x-this._aimScale_min.x)*this.speed;cc.tween(this.node).repeatForever(cc.tween().to(t,{scaleX:this._aimScale_max.x,scaleY:this._aimScale_max.y}).to(this.speed,{scaleX:this._aimScale_min.x,scaleY:this._aimScale_min.y},{easing:"sineInOut"}).delay(this.delayTime).to(this.speed-t,{scaleX:this._initScale.x,scaleY:this._initScale.y})).start()},e.prototype.handleS_Scale_Twice=function(){this._aimScale_max=cc.v2(this._initScale.x*this.scale_max,this._initScale.y*this.scale_max),this._aimScale_min=cc.v2(this._initScale.x*this.scale_min,this._initScale.y*this.scale_min),this.node.scaleX=this._aimScale_min.x,this.node.scaleY=this._aimScale_min.y,cc.tween(this.node).repeatForever(cc.tween().to(this.speed,{scaleX:this._aimScale_max.x,scaleY:this._aimScale_max.y},{easing:"sineInOut"}).to(this.speed,{scaleX:this._aimScale_min.x,scaleY:this._aimScale_min.y},{easing:"sineInOut"}).to(this.speed,{scaleX:this._aimScale_max.x,scaleY:this._aimScale_max.y},{easing:"sineInOut"}).to(this.speed,{scaleX:this._aimScale_min.x,scaleY:this._aimScale_min.y},{easing:"sineInOut"}).delay(this.delayTime)).start()},a([l({type:cc.Enum(r),tooltip:"缩放类型"})],e.prototype,"type",void 0),a([l({tooltip:"最大缩放值"})],e.prototype,"scale_max",void 0),a([l({tooltip:"最小缩放值"})],e.prototype,"scale_min",void 0),a([l({tooltip:"缩放速度"})],e.prototype,"speed",void 0),a([l({visible:function(){return this.type==r.S_Scale_Delay||this.type==r.S_Scale_Twice},tooltip:"缩放间隔"})],e.prototype,"delayTime",void 0),a([l({tooltip:"是否加载后，直接播放"})],e.prototype,"isPlayedOnLoad",void 0),a([s,p("act/ScaleAct")],e)}(cc.Component);o.default=d,cc._RF.pop()},{}],SoundManager:[function(t,e,o){"use strict";cc._RF.push(e,"8d1a9NlcK1FZIwNu4gw7SHd","SoundManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_SoundType=o.E_MusicType=void 0;var r,c=t("./LocalDBManager"),s=cc._decorator,l=s.ccclass;s.property,function(t){t.main="sounds/game_m",t.hall="sounds/hall_m"}(r=o.E_MusicType||(o.E_MusicType={})),function(t){t.click="sounds/click_normal",t.click_set="sounds/click_set",t.coinGain="sounds/coinGain",t.comb="sounds/comb_1",t.damage="sounds/damage",t.dropStage="sounds/dropStage",t.dropWater="sounds/dropWater",t.fail="sounds/fail",t.jump="sounds/jump",t.key="sounds/key",t.newRecord="sounds/newRecord",t.perfect="sounds/perfect",t.roleTip="sounds/roleTip",t.shieldUesed="sounds/shieldUsed",t.stickyTrap="sounds/stickyTrap",t.win="sounds/win",t.winFlag="sounds/winFlag",t.openBox="sounds/openBox",t.fishEat="sounds/fish_eat",t.fishDropWater="sounds/fish_dropWater"}(o.E_SoundType||(o.E_SoundType={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isPlaySound=!0,e._isPlayMusic=!1,e._isPlayAD=!1,e._curMusicType=null,e._loopEffect={},e._fogT_begin=0,e}var o;return i(e,t),o=e,Object.defineProperty(e,"I",{get:function(){return o._I},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._I=this,this._isPlayMusic=c.default.I.musicState,this._isPlaySound=c.default.I.effectState},e.prototype.start=function(){},e.prototype.init=function(){cc.audioEngine.setMusicVolume(.5)},e.prototype.combo=function(t){t=t>7?7:t,this.playEffect("sounds/combo_"+t,!1)},e.prototype.playMusic=function(t,e){void 0===e&&(e=1),this._isPlayMusic&&!this._isPlayAD&&cc.loader.loadRes(t,cc.AudioClip,function(t,o){t||(cc.audioEngine.stopMusic(),cc.audioEngine.setMusicVolume(e),cc.audioEngine.playMusic(o,!0))})},e.prototype.playMusicType=function(t){if(this._isPlayMusic)if(this._curMusicType!=t){this._curMusicType=t;var e=1;r.hall,e=.1,this.playMusic(t,e)}else cc.audioEngine.isMusicPlaying()||this.resumeMusic()},e.prototype.stopMusic=function(){this._isPlayMusic=!1,cc.audioEngine.stopMusic(),this._curMusicType=null},e.prototype.resetMusic=function(){this._isPlayMusic=!0,this._curMusicType==r.main?this.playMusicType(r.main):this.playMusicType(r.hall)},e.prototype.pauseMusic=function(){this._isPlayMusic&&cc.audioEngine.pauseMusic()},e.prototype.resumeMusic=function(){this._isPlayMusic&&cc.audioEngine.resumeMusic()},e.prototype.playEffect=function(t,e){if(void 0===e&&(e=!1),this._isPlaySound&&!this._isPlayAD&&t){var o=this;cc.loader.loadRes(t,cc.AudioClip,function(n,i){if(!n)if(e)if(null==o._loopEffect[t]||null==o._loopEffect[t]){var a=cc.audioEngine.playEffect(i,e);o._loopEffect[t]=a}else cc.warn("aim effect is playing now ",t);else cc.audioEngine.playEffect(i,e)})}},e.prototype.stopEffectByType=function(t){cc.js.isNumber(this._loopEffect[t])?(cc.audioEngine.stopEffect(this._loopEffect[t]),delete this._loopEffect[t]):cc.warn("not find aim effect ",t)},e.prototype.playEffectType=function(t,e){void 0===e&&(e=!1),this.playEffect(t,e)},e.prototype.pauseSound=function(){this._isPlaySound=!1,cc.audioEngine.pauseAllEffects()},e.prototype.resumeSound=function(){this._isPlaySound=!0,cc.audioEngine.resumeAllEffects()},e.prototype.getIsPlaying=function(){return this._isPlaySound},e.prototype.openBox=function(t){if(t>0&&t<4){var e="sounds/box"+t;this.playEffect(e,!1)}},e.prototype.pauseSoundAndMusic=function(){this.stopMusic()},e.prototype.resumeSoundAndMusic=function(){this.resumeMusic()},e.prototype.pauseSoundAndMusicByAd=function(){this._isPlayAD=!0,this.pauseSoundAndMusic()},e.prototype.resumeSoundAndMusicByAd=function(){this._isPlayAD=!1,this.resumeSoundAndMusic()},e._I=null,o=a([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./LocalDBManager":"LocalDBManager"}],WaggleAct:[function(t,e,o){"use strict";cc._RF.push(e,"4e6c5tSCUdOjroKtzsqFgml","WaggleAct");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_WaggleAct=void 0;var r,c=cc._decorator,s=c.ccclass,l=c.property,p=c.menu;(function(t){t[t.Normal=0]="Normal",t[t.Box=1]="Box"})(r=o.E_WaggleAct||(o.E_WaggleAct={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.Normal,e}return i(e,t),e.prototype.start=function(){},e.prototype.act=function(){switch(this.type){case r.Normal:this.handle_Normal();break;case r.Box:this.handle_Box()}},e.prototype.handle_Normal=function(){},e.prototype.handle_Box=function(){cc.tween(this.node).repeat(5,cc.tween().to(.1,{angle:8*Math.random()+8}).to(.1,{angle:8*-Math.random()-8})).to(.01,{angle:0}).to(.2,{scale:3}).to(.01,{scale:1}).start()},a([l({type:cc.Enum(r)})],e.prototype,"type",void 0),a([s,p("act/WaggleAct")],e)}(cc.Component);o.default=d,cc._RF.pop()},{}],WallShake:[function(t,e,o){"use strict";cc._RF.push(e,"7a281B4d9VFGYpObgNQHYxH","WallShake");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_ShakeType=void 0;var r,c=cc._decorator,s=c.ccclass,l=c.property;(function(t){t[t.Wall=0]="Wall",t[t.Wall_Reduce=1]="Wall_Reduce"})(r=o.E_ShakeType||(o.E_ShakeType={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.Wall,e.range=new cc.Vec2(6,6),e.rangeReduce=new cc.Vec2(.1,.1),e.shakeTime=1,e._curShakeTime=0,e._curRange=new cc.Vec2,e._initPos=new cc.Vec2,e._act=!1,e}return i(e,t),e.prototype.start=function(){this.range=cc.v2(1,1),this._initPos=cc.v2(this.node.x,this.node.y),this.addEventListener()},e.prototype.onDestroy=function(){this.removeEventListener()},e.prototype.addEventListener=function(){},e.prototype.removeEventListener=function(){},e.prototype.reset=function(){this._act=!1,this.node.setPosition(this._initPos)},e.prototype.shake=function(){if(!this._act)switch(this._act=!0,this.type){case r.Wall:this.shakeWall();break;case r.Wall_Reduce:this.shakeWall_reduce()}},e.prototype.shakeWall=function(){this._curShakeTime=this.shakeTime},e.prototype.shakeWall_reduce=function(){this._curShakeTime=this.shakeTime,this._curRange=cc.v2(this.range.x,this.range.y)},e.prototype.update=function(t){if(this._act)if(this._curShakeTime>0||-1==this._curShakeTime)switch(-1!=this._curShakeTime&&(this._curShakeTime-=t),this.type){case r.Wall_Reduce:this.up_wall_reduce(t);break;case r.Wall:this.up_wall(t)}else this._curRange=cc.v2(0,0),this.node.setPosition(this._initPos),this._curShakeTime=0},e.prototype.up_wall_reduce=function(){var t=this._curRange.x-1<=0?0:this._curRange.x-1;t*=Math.random()<.5?1:-1,this.node.x=this._initPos.x+Math.random()+t;var e=this._curRange.y-1<=0?0:this._curRange.y-1;e*=Math.random()<.5?1:-1,this.node.y=this._initPos.y+Math.random()+e,this._curRange.x-=this.rangeReduce.x,this._curRange.y-=this.rangeReduce.y},e.prototype.up_wall=function(){this.node.x=this._initPos.x+Math.random()*this.range.x*2-this.range.x,this.node.y=this._initPos.y+Math.random()*this.range.y*2-this.range.y},a([l({type:cc.Enum(r)})],e.prototype,"type",void 0),a([l({visible:function(){return this.type==r.Wall||this.type==r.Wall_Reduce},tooltip:"x,y shake range"})],e.prototype,"range",void 0),a([l({visible:function(){return this.type==r.Wall_Reduce},tooltip:"x,y shake range reduce"})],e.prototype,"rangeReduce",void 0),a([l({visible:function(){return this.type==r.Wall||this.type==r.Wall_Reduce},tooltip:"shake time, while shakeTime == -1, will always shake"})],e.prototype,"shakeTime",void 0),a([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],amn_tail:[function(t,e,o){"use strict";cc._RF.push(e,"a5254NIOPJNXblH+6cWtD40","amn_tail");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_AmnTailType=void 0;var r,c=t("../manager/CommonRes"),s=t("../manager/DataManager"),l=t("../manager/PoolManager"),p=t("../manager/SoundManager"),d=cc._decorator,_=d.ccclass,u=d.property;(function(t){t[t.Normal=0]="Normal",t[t.Money=1]="Money"})(r=o.E_AmnTailType||(o.E_AmnTailType={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.a_lbl_tip=null,e.a_sp_role=null,e.a_ps_amn=null,e._type=r.Normal,e}return i(e,t),e.prototype.start=function(){},e.prototype.init=function(){p.default.I.playEffectType(p.E_SoundType.roleTip),this.a_lbl_tip.node.color=s.default.I.colorCfg[s.default.I.bgIndex].Item,this.a_ps_amn.resetSystem(),this.a_ps_amn.enabled=!1;var t="",e=null,o=Math.floor(Math.random()*c.default.I.sf_RoleMoneyArr.length);switch(this._type){case r.Normal:t="FEVER!",e=c.default.I.sf_RoleAmnArr[o];break;case r.Money:t="MONEY\nTIME!",e=c.default.I.sf_RoleMoneyArr[o]}this.a_sp_role.spriteFrame=e,this.a_lbl_tip.string=t},e.prototype.act=function(t){var e=this;this._type=t,cc.Tween.stopAllByTarget(this.node),this.init(),cc.tween(this.node).delay(.01).parallel(cc.tween().by(.2,{x:-230},{easing:"backInOut"}),cc.tween().call(function(){e.a_ps_amn.resetSystem(),e.a_ps_amn.enabled=!0}).delay(.75).call(function(){e.a_ps_amn.resetSystem(),e.a_ps_amn.enabled=!1})).delay(.1).by(.2,{x:230},{easing:"backInOut"}).call(function(){l.default.I.returnItem(e.node)}).start()},a([u(cc.Label)],e.prototype,"a_lbl_tip",void 0),a([u(cc.Sprite)],e.prototype,"a_sp_role",void 0),a([u(cc.ParticleSystem)],e.prototype,"a_ps_amn",void 0),a([_],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../manager/CommonRes":"CommonRes","../manager/DataManager":"DataManager","../manager/PoolManager":"PoolManager","../manager/SoundManager":"SoundManager"}],barrier_arrow:[function(t,e,o){"use strict";cc._RF.push(e,"f24c7Wl8aNBdY1oVQpGoW7F","barrier_arrow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../manager/GameCtr"),c=t("../manager/PoolManager"),s=cc._decorator,l=s.ccclass,p=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._aimX=0,e._speed=200,e}return i(e,t),e.prototype.start=function(){},e.prototype.act=function(){var t=this;this.node.x>0?this._aimX=0:this._aimX=GAttr.canvasWidth,cc.tween(this.node).delay(2*Math.random()).call(function(){t.schedule(t.timeCnt,3)}).start()},e.prototype.timeCnt=function(){var t=c.default.I.getItem(c.E_PoolType.Barrier_ArrowItem),e=GAttr.canvasWidth,o=e/this._speed;t.scaleX=this.node.x>0?-1:1,t.parent=r.default.I.n_game_content,t.x=this.node.x,t.y=this.node.y,cc.tween(t).by(o,{x:this.node.x>0?-e:e}).call(function(){t.stopAllActions(),c.default.I.returnItem(t)}).start()},e.prototype.stop=function(){this.unschedule(this.timeCnt)},a([l],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../manager/GameCtr":"GameCtr","../manager/PoolManager":"PoolManager"}],barrier:[function(t,e,o){"use strict";cc._RF.push(e,"e39db3ffBVI7aqH+/JI3o2h","barrier");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_BarrierType=void 0;var r,c=t("../common/actionItem/RotateAct"),s=t("../manager/PoolManager"),l=cc._decorator,p=l.ccclass,d=l.property;(function(t){t[t.Arrow=0]="Arrow",t[t.Darts=1]="Darts",t[t.Barb=2]="Barb",t[t.None=3]="None"})(r=o.E_BarrierType||(o.E_BarrierType={}));var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.Arrow,e._initX=0,e._speed=300,e.isDie=!1,e._initY=0,e._t=0,e._isDarts=!1,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.act=function(t){var e=this;this._isDarts=!1,this._initX=t,this.scheduleOnce(function(){switch(e._initY=e.node.y,e.type){case r.Darts:e.handle_darts()}})},e.prototype.handle_darts=function(){this._isDarts=!0,this._initX>0&&(this._speed*=-1)},e.prototype.resetAngleAct=function(){var t=this.node.getChildByName("a_sp_item").getComponent(c.default);t.clockwise=!(this.node.x<0),t.reset()},e.prototype.die=function(){var t=this;this.isDie||(this.isDie=!0,this.node.stopAllActions(),cc.tween(this.node).delay(.2).to(.3,{scale:.15,opacity:0}).call(function(){t.node.scale=1,t.node.opacity=255,s.default.I.returnItem(t.node)}).start())},e.prototype.unuse=function(){this._t=0,this.isDie=!1,cc.Tween.stopAllByTarget(this.node)},e.prototype.reuse=function(){},e.prototype.update=function(t){if(!this.isDie&&this.type==r.Darts&&this._isDarts){this._t+=3*t,this.node.x+=this._speed*t;var e=25*Math.cos(this._t);this.node.y=e+this._initY,Math.abs(this.node.x)>Math.abs(this._initX)&&(this._speed*=-1,this.node.x+=this._speed*t,this.resetAngleAct())}},a([d({type:cc.Enum(r)})],e.prototype,"type",void 0),a([p],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../common/actionItem/RotateAct":"RotateAct","../manager/PoolManager":"PoolManager"}],bg:[function(t,e,o){"use strict";cc._RF.push(e,"e3b9etJJ+1D/ovVtrU8Mv1R","bg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./manager/DataManager"),c=t("./manager/EventManager"),s=t("./manager/GameCtr"),l=cc._decorator,p=l.ccclass,d=l.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.a_n_bg=null,e.a_n_water=null,e.a_n_fish=null,e.a_n_waterDrop=null,e._amplitude=.005,e._angularVelocity=10,e._delatY_mainC=0,e._isFishAct=!1,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"amplitude",{get:function(){return this._amplitude},set:function(t){this._amplitude=t,this.updateWave()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angularVelocity",{get:function(){return this._angularVelocity},set:function(t){this._angularVelocity=t,this.updateWave()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){s.default.I.n_water=this.a_n_water,s.default.I.n_fish=this.a_n_fish,s.default.I.n_bg=this.node,s.default.I.n_waterDrop=this.a_n_waterDrop,this.a_n_fish.active=!1,this.a_n_waterDrop.active=!1,this._delatY_mainC=s.default.I.n_mainCamera.y-this.a_n_water.y,s.default.I.deltaY_mc_water=this._delatY_mainC},e.prototype.start=function(){this.addEventListenr(),this.handle_bgChange()},e.prototype.onDestroy=function(){this.removeEventListener()},e.prototype.addEventListenr=function(){c.default.I.addEventLintener(c.E_EventType.Bg_Change,this.handle_bgChange,this),c.default.I.addEventLintener(c.E_EventType.Game_Rest,this.handle_reset,this),c.default.I.addEventLintener(c.E_EventType.Layer_Switch,this.handle_layerSwitch,this)},e.prototype.removeEventListener=function(){c.default.I.removeEvent(this)},e.prototype.handle_bgChange=function(){this.a_n_bg.color=r.default.I.colorCfg[r.default.I.bgIndex].Bg,this.a_n_water.color=r.default.I.colorCfg[r.default.I.bgIndex].water,s.default.I.n_resultBg&&(s.default.I.n_resultBg.color=r.default.I.colorCfg[r.default.I.bgIndex].Bg)},e.prototype.handle_layerSwitch=function(t){switch(t){case c.E_MainLayerType.Hall:break;case c.E_MainLayerType.Game:s.default.I.isBossLv()?(this.a_n_water.getChildByName("a_n_skull").active=!1,GAttr.isTouch=!1,s.default.I.isFish_ctrlAmn=!0,this.a_n_fish.active=!0,s.default.I.n_mainCamera.y=-350,this.a_n_fish.y=-1500,s.default.I.isFish=!0,cc.tween(this.a_n_fish).to(1.5,{y:-1e3}).start(),cc.tween(s.default.I.n_mainCamera).delay(1.5).to(.7,{y:0}).call(function(){s.default.I.isFish=!1,s.default.I.fish(!1),GAttr.isTouch=!0}).start()):(this.a_n_fish.active=!1,this.a_n_water.getChildByName("a_n_skull").active=!0);break;case c.E_MainLayerType.Result:case c.E_MainLayerType.Set:case c.E_MainLayerType.Shop:}},e.prototype.handle_reset=function(){this.a_n_water.y=-this._delatY_mainC},e.prototype.update=function(t){if(s.default.I.gameState==GEnum.GameState.gaming&&!s.default.I.isFish){var e=this.a_n_water.y,o=s.default.I.n_mainCamera.y-this._delatY_mainC;e<o&&(this.a_n_water.y=o-e<2?o:o-e<20?cc.misc.lerp(e,o,.05):cc.misc.lerp(e,o,1.7*t))}},e.prototype.wave=function(){cc.tween(this.node.getComponent(o)).to(2,{amplitude:.03,angularVelocity:15}).to(2,{amplitude:.005,angularVelocity:10}).start()},e.prototype.updateWave=function(){var t=this.a_n_water.getComponent(cc.Sprite).getMaterial(0);t.setProperty("amplitude",this._amplitude),t.setProperty("angularVelocity",this._angularVelocity)},a([d(cc.Node)],e.prototype,"a_n_bg",void 0),a([d(cc.Node)],e.prototype,"a_n_water",void 0),a([d(cc.Node)],e.prototype,"a_n_fish",void 0),a([d(cc.Node)],e.prototype,"a_n_waterDrop",void 0),a([d],e.prototype,"_amplitude",void 0),a([d],e.prototype,"amplitude",null),a([d],e.prototype,"_angularVelocity",void 0),a([d],e.prototype,"angularVelocity",null),o=a([p],e)}(cc.Component);o.default=_,cc._RF.pop()},{"./manager/DataManager":"DataManager","./manager/EventManager":"EventManager","./manager/GameCtr":"GameCtr"}],box:[function(t,e,o){"use strict";cc._RF.push(e,"2d6439X4OlDpaJ99W4O5BSU","box");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./common/actionItem/AmnMove"),c=t("./common/actionItem/WaggleAct"),s=t("./manager/CommonRes"),l=t("./manager/DataManager"),p=t("./manager/EventManager"),d=t("./manager/GameCtr"),_=t("./manager/lvCtrl"),u=t("./manager/PoolManager"),h=t("./manager/SoundManager"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){
var e=null!==t&&t.apply(this,arguments)||this;return e.a_n_boxPreOpen=null,e.a_n_box=null,e.a_n_content=null,e.a_n_title=null,e.a_n_layout=null,e.a_n_btn=null,e._leftOpenNums=0,e._isOpen=!1,e._goodsInfo={coin:100,key:0},e._coinRate=[{v:10,probability:10},{v:15,probability:40},{v:25,probability:40},{v:5,probability:5},{v:5,probability:5}],e}return i(e,t),e.prototype.start=function(){},e.prototype.init=function(){this._leftOpenNums=3,cc.Tween.stopAllByTarget(this.a_n_btn),this.a_n_btn.active=!1,this.a_n_btn.opacity=0,this.a_n_boxPreOpen.active=!0,this.a_n_content.active=!1,this.initGoods(),this.openBox()},e.prototype.openBox=function(){var t=this;h.default.I.playEffectType(h.E_SoundType.openBox),this.a_n_box.getComponent(c.default).act(),d.default.I.n_common.active=!1,this.scheduleOnce(function(){d.default.I.n_common.active=!0,t.a_n_boxPreOpen.active=!1,t.a_n_content.active=!0},1.1)},e.prototype.initGoods=function(){for(var t=this.a_n_layout.children,e=0;e<t.length;e++){t[e].itemIndex=e;var o=t[e].getChildByName("n_goodBg").getChildByName("n_good"),n=t[e].getChildByName("n_goodBg").getChildByName("n_v");if("key"==(100*Math.random()<0?"key":"coin"))t[e].shopKey="key",o.getComponent(cc.Sprite).spriteFrame=s.default.I.sf_key,n.getComponent(cc.Label).string="x1";else{t[e].shopKey="coin",o.getComponent(cc.Sprite).spriteFrame=s.default.I.sf_coin;var i=_.default.I.getRoundInfo(this._coinRate);n.getComponent(cc.Label).string="x"+i.v,t[e].shopV=i.v}t[e].getChildByName("n_goodBg").active=!1,t[e].getChildByName("n_key").active=!0}},e.prototype.amn_useKey=function(t){var e=this;l.default.I.keyNum,l.default.I.keyNum--,p.default.I.handleEvent(p.E_EventType.Key_NumChange);var o=u.default.I.getItem(u.E_PoolType.Amn_Key);cc.Tween.stopAllByTarget(o),o.parent=d.default.I.n_common;var n=cc.v2(d.default.I.n_keyRoot.children[this._leftOpenNums].position).add(cc.v2(d.default.I.n_keyRoot.position));o.setPosition(n);var i=t.convertToWorldSpaceAR(cc.v2(0,0));i=i.sub(cc.v2(GAttr.canvasWidth/2,GAttr.canvasHeight/2)),this.scheduleOnce(function(){var o=u.default.I.getItem(u.E_PoolType.Amn_OpenBox);o.parent=t,o.setPosition(0,0),e.scheduleOnce(function(){u.default.I.returnItem(o)},.5)},.4),cc.tween(o).to(.5,{x:i.x,y:i.y}).to(0,{opacity:0}).delay(.4).call(function(){o.opacity=255,u.default.I.returnItem(o),e.sureOpen(t),e._isOpen=!1}).start(),this._leftOpenNums--,h.default.I.openBox(3-this._leftOpenNums)},e.prototype.sureOpen=function(t){if(t.getChildByName("n_key").active=!1,t.getChildByName("n_goodBg").active=!0,"key"==t.shopKey)l.default.I.keyNum++,p.default.I.handleEvent(p.E_EventType.Key_NumChange);else{var e=t.shopV;l.default.I.coin+=parseInt(e),p.default.I.handleEvent(p.E_EventType.Coin_Change)}this.flyCoin(t),this.checkClose()},e.prototype.flyCoin=function(t){for(var e=function(t,e,o){cc.tween(t).to(.2,{x:e,y:o}).delay(.2).call(function(){var e=t.getComponent(r.default);e.reset(),e.n_to=d.default.I.n_coinRoot,e.fixedTime=!0,e.t=.75,e.act()}).start()},o=0;o<5;o++){var n=u.default.I.getItem(u.E_PoolType.Amn_Coin);n.parent=t,n.setPosition(0,0),e(n,(Math.random()*t.width/3+t.width/4)*(Math.random()>.5?1:-1),(Math.random()*t.height/3+t.height/4)*(Math.random()>.5?1:-1))}},e.prototype.btn_n_item=function(t){var e=t.target;e.getChildByName("n_key").active&&this._leftOpenNums>0&&!this._isOpen&&(this._isOpen=!0,this.amn_useKey(e))},e.prototype.checkClose=function(){this.a_n_btn.active=!0,0==this._leftOpenNums&&cc.tween(this.a_n_btn).to(1,{opacity:255}).start()},e.prototype.btn_a_n_back=function(){p.default.I.handleEvent(p.E_EventType.Layer_Switch,p.E_MainLayerType.Result)},a([g(cc.Node)],e.prototype,"a_n_boxPreOpen",void 0),a([g(cc.Node)],e.prototype,"a_n_box",void 0),a([g(cc.Node)],e.prototype,"a_n_content",void 0),a([g(cc.Node)],e.prototype,"a_n_title",void 0),a([g(cc.Node)],e.prototype,"a_n_layout",void 0),a([g(cc.Node)],e.prototype,"a_n_btn",void 0),a([y],e)}(cc.Component);o.default=m,cc._RF.pop()},{"./common/actionItem/AmnMove":"AmnMove","./common/actionItem/WaggleAct":"WaggleAct","./manager/CommonRes":"CommonRes","./manager/DataManager":"DataManager","./manager/EventManager":"EventManager","./manager/GameCtr":"GameCtr","./manager/PoolManager":"PoolManager","./manager/SoundManager":"SoundManager","./manager/lvCtrl":"lvCtrl"}],characterCtr:[function(t,e,o){"use strict";cc._RF.push(e,"353bbME41RGpL5ii8jNoxUf","characterCtr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../manager/GameCtr"),c=t("./character"),s=cc._decorator,l=s.ccclass,p=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,Object.defineProperty(e,"I",{get:function(){return o._I},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._I=this},e.prototype.start=function(){},e.prototype.jumpByY=function(t){cc.tween(r.default.I.n_role).by(.4,{y:t},{easing:"quadOut"}).call(function(){GAttr.isDown=!0,GAttr.d_v=GAttr.d_baseV}).start()},e.prototype.ps_circle=function(){r.default.I.n_role&&r.default.I.n_role.getComponent(c.default).ps_circle()},e.prototype.shield=function(t){r.default.I.n_role&&r.default.I.n_role.getComponent(c.default).activeShield(t)},e._I=null,o=a([l],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../manager/GameCtr":"GameCtr","./character":"character"}],character:[function(t,e,o){"use strict";cc._RF.push(e,"d16ebvrHsJIgqOLVgoNfdyn","character");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../dragonFish"),c=t("../ghDraw"),s=t("../item/amn_tail"),l=t("../item/item"),p=t("../item/prop"),d=t("../manager/CommonRes"),_=t("../manager/DataManager"),u=t("../manager/EventManager"),h=t("../manager/GameCtr"),f=t("../manager/lvCtrl"),y=t("../manager/PoolManager"),g=t("../manager/SoundManager"),m=cc._decorator,v=m.ccclass,b=m.property,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.a_sp_item=null,e.a_ps_tail=null,e.a_ps_circle=null,e.a_n_shield=null,e.a_n_len=null,e.isDie=!1,e._perfectTimes=0,e._g=44.1,e._g_water=9.8,e._delatY_mainC=0,e._preX=-999,e._isSwitch=!1,e._isDelta=!1,e._isWaterDrop=!1,e}return i(e,t),e.prototype.onLoad=function(){this.reuse(),this._delatY_mainC=h.default.I.n_mainCamera.y-this.node.y,h.default.I.deltaY_mc_role=this._delatY_mainC},e.prototype.start=function(){this.sp(_.default.I.skinCur)},e.prototype.onCollisionEnter=function(t,e){if(!this.isDie){var o=t.node.group;o==GEnum.Collider_Group.Barrier?this.handleBarrier(t):o==GEnum.Collider_Group.Prop?this.handleProp(t):o==GEnum.Collider_Group.Item&&this.handleStage(e,t)}},e.prototype.handleBarrier=function(){h.default.I.isInvincible||(h.default.I.gameState=GEnum.GameState.fail,this.die_barrier())},e.prototype.handleProp=function(t){t.node.getComponent(p.default).gain()},e.prototype.handleStage=function(t,e){if(e.tag==GEnum.C_Stage_Tag.Item){if(0==e.node.stageIndex)return;var o=t.world,n=e.world,i=o.aabb,a=o.preAabb,r=n.aabb;if(i.yMax<a.yMax&&i.yMin>=r.yMax-e.node.height/2){if(GAttr.isDown=!1,GAttr.isTouch=!0,GAttr.touchTimes=0,h.default.I.n_role.y=e.node.y+e.offset.y+e.size.height/2-3,e.node!=h.default.I.n_curStage){h.default.I.deltaX_roleAndstage=this.node.x-e.node.x,h.default.I.n_curStage=e.node,f.default.I.resetNextStage();var s=!1;Math.abs(i.center.x-r.center.x)<20?(this._perfectTimes++,0==e.node.stageIndex?g.default.I.playEffectType(g.E_SoundType.dropStage):this._perfectTimes<2&&g.default.I.playEffectType(g.E_SoundType.perfect),s=!0,this._preX=this.node.x,e.node.getComponent(l.default).perfect(),h.default.I.showMsg("Perfect +"+this._perfectTimes,h.E_MsgType.Perfect,cc.v2(h.default.I.n_role.position))):(this._perfectTimes=0,g.default.I.playEffectType(g.E_SoundType.dropStage)),this.ps(),e.node.getComponent(l.default).fixed(),this.fallGround(),this.addScore(s)}var p=h.default.I.n_curStage.getComponent(l.default).a_gh_draw;p&&p.getComponent(c.default).drawState(!1),h.default.I.isBossLv()&&h.default.I.fish(),h.default.I.checkWin()}}else h.default.I.isInvincible||this.die_barrier()},e.prototype.addScore=function(t){var e=_.default.I.lvRecord,o=t?e+1:e;_.default.I.scoreRecord+=o,u.default.I.handleEvent(u.E_EventType.Score_Change),h.default.I.showMsg("+"+o,h.E_MsgType.Score,cc.v2(h.default.I.n_role.position)),!_.default.I.loginFirst&&!h.default.I.isRecord&&_.default.I.scoreRecord>=_.default.I.scoreBest&&(u.default.I.handleEvent(u.E_EventType.Score_NewRecord),h.default.I.isRecord=!0),_.default.I.scoreBest<_.default.I.scoreRecord&&(_.default.I.scoreBest=_.default.I.scoreRecord)},e.prototype.fallGround=function(){cc.tween(this.node).to(.07,{scaleX:1.35*GAttr.roleBaseScale,scaleY:.75*GAttr.roleBaseScale},{easing:"quadOut"}).to(.15,{scaleY:GAttr.roleBaseScale,scaleX:GAttr.roleBaseScale},{easing:"quadIn"}).start()},e.prototype.die_barrier=function(){h.default.I.vibrate(),g.default.I.playEffectType(g.E_SoundType.damage),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{opacity:0}).start(),this.die()},e.prototype.die=function(){this.isDie||(GAttr.isDown=!1,this.isDie=!0,h.default.I.isWin=!1,h.default.I.isBossLv()&&h.default.I.fish(!1),u.default.I.handleEvent(u.E_EventType.Layer_Switch,u.E_MainLayerType.Continue))},e.prototype.unuse=function(){this.isDie=!1,this.a_ps_circle&&cc.isValid(this.a_ps_circle)&&(this.a_ps_circle.resetSystem(),this.a_ps_circle.enabled=!1)},e.prototype.reuse=function(){this.a_ps_tail.node.active=!1,this.a_ps_circle.node.active=!0,this.activeShield(!1)},e.prototype.reset=function(){this.isDie=!1,this._isDelta=!1,this._perfectTimes=0,this._isWaterDrop=!1,this.ps(),this.sp(_.default.I.skinCur)},e.prototype.ps_circle=function(){var t=this;this._perfectTimes<2&&(this.a_ps_circle.resetSystem(),this.a_ps_circle.enabled=!0,this.scheduleOnce(function(){t.a_ps_circle&&t.a_ps_circle.node.active&&cc.isValid(t.a_ps_circle,!0)&&(t.a_ps_circle.resetSystem(),t.a_ps_circle.enabled=!1)},.25))},e.prototype.ps=function(){if(h.default.I.vibrate(),this._perfectTimes<2?this.a_ps_tail.node.active&&(this.a_ps_tail.node.active=!1):2==this._perfectTimes?(this.a_ps_tail.node.active=!0,this.a_ps_tail.startColor=new cc.Color(4,4,4,163),this.a_ps_tail.endColor=new cc.Color(35,33,33,40)):3==this._perfectTimes?(this.a_ps_tail.startColor=new cc.Color(23,0,162,200),this.a_ps_tail.endColor=new cc.Color(0,0,0,0),this.a_ps_tail.resetSystem(),this.showAmnFace(s.E_AmnTailType.Normal)):8==this._perfectTimes&&this.showAmnFace(s.E_AmnTailType.Money),this._perfectTimes>=2&&g.default.I.playEffectType(g.E_SoundType.comb),this._perfectTimes>=8){var t=h.default.I.n_mainCamera.getComponent(cc.Camera),e=this.node.convertToWorldSpaceAR(cc.v2(0,0)),o=cc.v2();t.getWorldToScreenPoint(e,o);var n=cc.v2(h.default.I.n_coinRoot.position),i=y.default.I.getItem(y.E_PoolType.Amn_Coin);i.parent=h.default.I.n_common,i.scale=1,i.setPosition(cc.v2(o.x-GAttr.canvasWidth/2,o.y-GAttr.canvasHeight/2)),_.default.I.coin+=1,this.actToAimPos(i,n,function(){u.default.I.handleEvent(u.E_EventType.Coin_Change)})}},e.prototype.actToAimPos=function(t,e,o){cc.tween(t).to(.5,{x:e.x,y:e.y,scale:.7}).call(function(){o&&o(),y.default.I.returnItem(t)}).start()},e.prototype.ps_dir=function(){var t=this;this.a_ps_tail.node.active&&(this.node.x>=this._preX&&!this._isSwitch?45==this.a_ps_tail.angle&&(this._isSwitch=!0,this.scheduleOnce(function(){t._isSwitch=!1},.01),cc.tween(this.a_ps_tail).to(.5,{angle:135}).start()):135!=this.a_ps_tail.angle||this._isSwitch||(this._isSwitch=!0,this.scheduleOnce(function(){t._isSwitch=!1},.01),cc.tween(this.a_ps_tail).to(.5,{angle:45}).start()))},e.prototype.showAmnFace=function(t){var e=y.default.I.getItem(y.E_PoolType.Amn_tail);e.parent=h.default.I.n_common,e.x=GAttr.canvasWidth/2+300,e.y=150,e.getComponent(s.default).act(t)},e.prototype.activeShield=function(t){if(this.a_n_shield.active!=t){if(t){g.default.I.playEffectType(g.E_SoundType.shieldUesed);var e=_.default.I.skinCur;-1!=["1","4","5","6"].indexOf(e)?this.a_n_shield.x=0:this.a_n_shield.x=-22}this.a_n_shield.active=t,h.default.I.isInvincible=t,h.default.I.invincibleTime=h.default.I.invincibleBaseTime}else t&&(h.default.I.invincibleTime=h.default.I.invincibleBaseTime,this.a_n_shield.opacity=255,h.default.I.isShieldShake=!1,cc.Tween.stopAllByTarget(this.a_n_shield),g.default.I.playEffectType(g.E_SoundType.shieldUesed))},e.prototype.sp=function(t){for(var e=0;e<d.default.I.sf_RoleArr.length;e++)if(-1!=d.default.I.sf_RoleArr[e].name.indexOf(t)){this.a_sp_item.spriteFrame=d.default.I.getSfByName(t),e==d.default.I.sf_RoleArr.length-1?this.a_n_len.x=-22:this.a_n_len.x=0;break}this.a_sp_item.node.y=this.a_sp_item.node.height/2},e.prototype.lateUpdate=function(){if(h.default.I.n_curStage&&!this.isDie){this.node.x=h.default.I.n_curStage.x+h.default.I.deltaX_roleAndstage;var t=h.default.I.n_curStage;this.node.x+180*GAttr.roleBaseScale/2<t.x-t.width/2||this.node.x-180*GAttr.roleBaseScale/2>t.x+t.width/2?(GAttr.isDown=!0,GAttr.isTouch=!1):(this.ps_dir(),this._preX=this.node.x)}},e.prototype.update=function(t){if(!this.isDie&&!h.default.I.isFish){GAttr.isDown&&(this.node.y+=GAttr.d_v,this._isWaterDrop?GAttr.d_v-=this._g_water*t:GAttr.d_v-=this._g*t,this.checkDie());var e=this.node.y+this._delatY_mainC,o=h.default.I.n_mainCamera.y;Math.abs(e-o)<3?h.default.I.n_mainCamera.y=e:h.default.I.n_mainCamera.y=cc.misc.lerp(o,e,2*t)}},e.prototype.checkDie=function(){var t=this,e=h.default.I.n_water.getBoundingBoxToWorld(),o=this.node.convertToWorldSpaceAR(cc.v2(0,0));o.y+this.node.height*GAttr.roleBaseScale<e.y+e.height-50&&!this._isWaterDrop&&(h.default.I.waterDrop(),GAttr.d_v=GAttr.d_baseV,this._isWaterDrop=!0),o.y+this.node.height*GAttr.roleBaseScale<e.y+e.height-500&&(h.default.I.isBossLv()&&(h.default.I.n_fish.getComponent(r.default).reset(),h.default.I.isFish_ctrlAmn=!1,h.default.I.n_fish.getComponent(dragonBones.ArmatureDisplay).playAnimation("back",1).timeScale=3),GAttr.isDown&&(GAttr.isDown=!1,this.scheduleOnce(function(){t.die(),t._isDelta=!1},.2)))},a([b(cc.Sprite)],e.prototype,"a_sp_item",void 0),a([b(cc.ParticleSystem)],e.prototype,"a_ps_tail",void 0),a([b(cc.ParticleSystem)],e.prototype,"a_ps_circle",void 0),a([b(cc.Node)],e.prototype,"a_n_shield",void 0),a([b(cc.Node)],e.prototype,"a_n_len",void 0),a([v],e)}(cc.Component);o.default=I,cc._RF.pop()},{"../dragonFish":"dragonFish","../ghDraw":"ghDraw","../item/amn_tail":"amn_tail","../item/item":"item","../item/prop":"prop","../manager/CommonRes":"CommonRes","../manager/DataManager":"DataManager","../manager/EventManager":"EventManager","../manager/GameCtr":"GameCtr","../manager/PoolManager":"PoolManager","../manager/SoundManager":"SoundManager","../manager/lvCtrl":"lvCtrl"}],common:[function(t,e,o){"use strict";cc._RF.push(e,"86303eVsvhK75ONBBMZ3Fa+","common");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./common/actionItem/NumGrowth"),c=t("./common/actionItem/NumShake"),s=t("./manager/CommonAmn"),l=t("./manager/DataManager"),p=t("./manager/EventManager"),d=t("./manager/GameCtr"),_=cc._decorator,u=_.ccclass,h=_.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.a_n_setEntrance=null,e.a_n_key=null,e.a_tg_1=null,e.a_tg_2=null,e.a_tg_3=null,e.a_lbl_coin=null,e._testNode=null,e}return i(e,t),e.prototype.onLoad=function(){this._testNode=this.node.getChildByName("a_testCoin"),d.default.I.n_keyRoot=this.a_n_key,d.default.I.n_coinRoot=this.a_lbl_coin.node.parent,s.default.I.hideNode(this.a_n_setEntrance),s.default.I.hideNode(this.a_n_key),this.addEventListenr()},e.prototype.start=function(){this.handle_keyNumChange(),this.handle_coinChange()},e.prototype.onDestroy=function(){this.removeEventListener()},e.prototype.addEventListenr=function(){p.default.I.addEventLintener(p.E_EventType.Key_NumChange,this.handle_keyNumChange,this),p.default.I.addEventLintener(p.E_EventType.Coin_Change,this.handle_coinChange,this),p.default.I.addEventLintener(p.E_EventType.Layer_Switch,this.handle_layerSwitch,this),p.default.I.addEventLintener(p.E_EventType.Test,this.actTest,this)},e.prototype.removeEventListener=function(){p.default.I.removeEvent(this)},e.prototype.actTest=function(){this._testNode.x=-100,this._testNode.y=-100,cc.tween(this._testNode).to(1,{x:this.a_lbl_coin.node.parent.x,y:this.a_lbl_coin.node.parent.y}).start()},e.prototype.handle_keyNumChange=function(){for(var t=1;t<4;t++)this["a_tg_"+t].isChecked=t<=l.default.I.keyNum},e.prototype.handle_coinChange=function(){this.a_lbl_coin.string=l.default.I.coin.toString(),this.a_lbl_coin.node.getComponent(c.default).shake()},e.prototype.handle_layerSwitch=function(t){switch(t){case p.E_MainLayerType.Hall:this.active_key(!1),this.active_setEntrance(!0),this.a_lbl_coin.string="0",this.a_lbl_coin.node.getComponent(r.default).growth(0,l.default.I.coin);break;case p.E_MainLayerType.Game:this.active_key(!0),this.active_setEntrance(!0);break;case p.E_MainLayerType.Result:this.active_key(!1),this.active_setEntrance(!0);break;case p.E_MainLayerType.Set:break;case p.E_MainLayerType.Shop:this.active_key(!1),this.active_setEntrance(!1);break;case p.E_MainLayerType.Box:this.active_key(!0),this.active_setEntrance(!0)}},e.prototype.active_key=function(t){var e=this;this.a_n_key.active!=t&&(cc.Tween.stopAllByTarget(this.a_n_key),s.default.I.act_fade(this.a_n_key,0,.5,t?255:0,"",function(){e.a_n_key.active=t}))},e.prototype.active_setEntrance=function(t){var e=this;this.a_n_setEntrance.active!=t&&(cc.Tween.stopAllByTarget(this.a_n_setEntrance),s.default.I.act_fade(this.a_n_setEntrance,0,.75,t?255:0,"",function(){e.a_n_setEntrance.active=t}))},e.prototype.btn_a_n_setEntrance=function(){p.default.I.handleEvent(p.E_EventType.Layer_Switch,p.E_MainLayerType.Set)},a([h(cc.Node)],e.prototype,"a_n_setEntrance",void 0),a([h(cc.Node)],e.prototype,"a_n_key",void 0),a([h(cc.Toggle)],e.prototype,"a_tg_1",void 0),a([h(cc.Toggle)],e.prototype,"a_tg_2",void 0),a([h(cc.Toggle)],e.prototype,"a_tg_3",void 0),a([h(cc.Label)],e.prototype,"a_lbl_coin",void 0),a([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./common/actionItem/NumGrowth":"NumGrowth","./common/actionItem/NumShake":"NumShake","./manager/CommonAmn":"CommonAmn","./manager/DataManager":"DataManager","./manager/EventManager":"EventManager","./manager/GameCtr":"GameCtr"}],continueLayer:[function(t,e,o){"use strict";cc._RF.push(e,"09fccWEVWBLyoIbM7fx2ZhS","continueLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./ad/AdCtrl"),c=t("./ad/AdEvent"),s=t("./common/actionItem/MoveAct"),l=t("./manager/CommonAmn"),p=t("./manager/EventManager"),d=t("./manager/GameCtr"),_=cc._decorator,u=_.ccclass,h=_.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.a_n_tip=null,e.a_n_face=null,e.a_pg_time=null,e.a_pg_bar=null,e.a_n_continue=null,e.a_n_thanks=null,e.time=5,e}return i(e,t),e.prototype.onLoad=function(){this.a_pg_bar.width=0,this.a_n_thanks.active=!1,this.a_n_thanks.opacity=0,l.default.I.initPos(this.a_n_tip),l.default.I.initPos(this.a_n_face),l.default.I.initPos(this.a_pg_time),l.default.I.initPos(this.a_n_continue)},e.prototype.start=function(){this.addEventListenr()},e.prototype.resetPos=function(){l.default.I.pos_dir(this.a_n_tip,GEnum.Node_Pos.Top),l.default.I.pos_dir(this.a_n_face,GEnum.Node_Pos.Top),l.default.I.pos_dir(this.a_n_continue,GEnum.Node_Pos.Bottom),l.default.I.pos_dir(this.a_pg_time,GEnum.Node_Pos.Bottom)},e.prototype.entrance=function(){GAttr.isTouch=!1,this.resetPos(),l.default.I.act_entrance(this.a_n_tip,.2,.4,"backOut",null),l.default.I.act_entrance(this.a_n_face,.01,.4,"backOut",this.init.bind(this)),l.default.I.act_entrance(this.a_n_continue,.2,.4,"backOut",null),l.default.I.act_entrance(this.a_pg_time,.01,.4,"backOut",null),this.a_n_thanks.active=!0,l.default.I.act_fade(this.a_n_thanks,1,1,255)},e.prototype.exit=function(){},e.prototype.init=function(){this.a_n_face.getComponent(s.default).act(),this.actBar()},e.prototype.onDestroy=function(){this.removeEventListener()},e.prototype.addEventListenr=function(){c.default.I.addEventLintener(c.E_ADEventType.video_showOver,this.handle_showOver,this),c.default.I.addEventLintener(c.E_ADEventType.video_showFail,this.handle_showFail,this)},e.prototype.removeEventListener=function(){c.default.I.removeEvent(this)},e.prototype.actBar=function(){var t=this;cc.tween(this.a_pg_bar).to(this.time,{width:600}).call(function(){t.reset(),p.default.I.handleEvent(p.E_EventType.Layer_Switch,p.E_MainLayerType.Result)}).start()},e.prototype.handle_showOver=function(){r.default.I.type==r.E_AdType.Reborn&&(this.reset(),this.node.active=!1,p.default.I.handleEvent(p.E_EventType.Game_Continue))},e.prototype.handle_showFail=function(){this.actBar()},e.prototype.btn_a_n_continue=function(){r.default.I.isLoad_rewarded()&&(r.default.I.type=r.E_AdType.Reborn,r.default.I.showRewardedVideoAd(),cc.Tween.stopAllByTarget(this.a_pg_bar),this.a_pg_bar.width=0)},e.prototype.btn_a_n_thanks=function(){HUHU_showInterstitialAd(),this.reset(),d.default.I.checkOpenBox()?p.default.I.handleEvent(p.E_EventType.Layer_Switch,p.E_MainLayerType.Box):p.default.I.handleEvent(p.E_EventType.Layer_Switch,p.E_MainLayerType.Result)},e.prototype.reset=function(){cc.Tween.stopAllByTarget(this.a_pg_bar),cc.Tween.stopAllByTarget(this.a_n_face),cc.Tween.stopAllByTarget(this.a_n_thanks),this.a_pg_bar.width=0,this.a_n_thanks.active=!1,this.a_n_thanks.opacity=0},a([h(cc.Node)],e.prototype,"a_n_tip",void 0),a([h(cc.Node)],e.prototype,"a_n_face",void 0),a([h(cc.Node)],e.prototype,"a_pg_time",void 0),a([h(cc.Node)],e.prototype,"a_pg_bar",void 0),a([h(cc.Node)],e.prototype,"a_n_continue",void 0),a([h(cc.Node)],e.prototype,"a_n_thanks",void 0),a([h],e.prototype,"time",void 0),a([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./ad/AdCtrl":"AdCtrl","./ad/AdEvent":"AdEvent","./common/actionItem/MoveAct":"MoveAct","./manager/CommonAmn":"CommonAmn","./manager/EventManager":"EventManager","./manager/GameCtr":"GameCtr"}],dragonFish:[function(t,e,o){"use strict";cc._RF.push(e,"a8f4e0JUSBNUL6LYS/zS6A1","dragonFish");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./manager/GameCtr"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dg=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){if(r.default.I.n_fish.active&&r.default.I.isFish_ctrlAmn){var t=r.default.I.n_role.y+r.default.I.deltaY_mc_role-r.default.I.deltaY_mc_water-r.default.I.n_fish.y;t>500&&(t=500);var e=(500-t)/343*45;if(e>45&&(e=45),e>30){var o=2*Math.random();e=cc.misc.degreesToRadians(e+o)}else e=cc.misc.degreesToRadians(e);var n=this.dg.armature(),i=n.getBone("bone2"),a=n.getBone("bone1");i.origin.rotation=e,a.origin.rotation=-e,n.invalidUpdate()}},e.prototype.reset=function(){if(this.dg){var t=this.dg.armature(),e=t.getBone("bone2"),o=t.getBone("bone1");e.origin.rotation=0,o.origin.rotation=0,t.invalidUpdate()}},a([l(dragonBones.ArmatureDisplay)],e.prototype,"dg",void 0),a([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./manager/GameCtr":"GameCtr"}],flag:[function(t,e,o){"use strict";cc._RF.push(e,"e949bbUHu1B0KjBzoxFmKB/","flag");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./manager/PoolManager"),c=t("./manager/SoundManager"),s=cc._decorator,l=s.ccclass,p=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.act=function(){var t=this;c.default.I.playEffectType(c.E_SoundType.winFlag),cc.tween(this.node).by(.4,{y:300,angle:100*Math.random()+360}).by(.8,{y:-600,angle:100*Math.random()+250,opacity:0}).call(function(){t.node.angle=0,t.node.opacity=255,r.default.I.returnItem(t.node)}).start()},a([l],e)}(cc.Component));o.default=p,cc._RF.pop()},{"./manager/PoolManager":"PoolManager","./manager/SoundManager":"SoundManager"}],game:[function(t,e,o){"use strict";cc._RF.push(e,"195ecpfnRhF47DgbSc1Bkbq","game");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./character/character"),c=t("./character/characterCtr"),s=t("./item/barrier"),l=t("./item/barrier_arrow"),p=t("./item/item"),d=t("./item/prop"),_=t("./manager/DataManager"),u=t("./manager/EventManager"),h=t("./manager/GameCtr"),f=t("./manager/lvCtrl"),y=cc._decorator,g=y.ccclass,m=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.a_n_content=null,e.a_lbl_score=null,e.a_lbl_lv=null,e.a_n_record=null,e._checkSpace=5,e._isContinue=!1,e._speed_backPos=8,e}return i(e,t),e.prototype.onLoad=function(){h.default.I.n_game_content=this.a_n_content,this.a_n_record.active=!1},e.prototype.start=function(){this.addEventListenr()},e.prototype.onDestroy=function(){this.removeEventListener()},e.prototype.addEventListenr=function(){u.default.I.addEventLintener(u.E_EventType.Score_Change,this.handle_scoreChange,this),u.default.I.addEventLintener(u.E_EventType.Lv_Change,this.handle_lvChange,this),u.default.I.addEventLintener(u.E_EventType.Game_Continue,this.handle_gameContinue,this),u.default.I.addEventLintener(u.E_EventType.Score_NewRecord,this.amn_newRecord,this)},e.prototype.removeEventListener=function(){u.default.I.removeEvent(this)},e.prototype.onEnable=function(){this.handle_lvChange(),this.handle_scoreChange()},e.prototype.handle_scoreChange=function(){this.a_lbl_score.string=_.default.I.scoreRecord.toString()},e.prototype.handle_lvChange=function(){h.default.I.isShieldShake=!1,this.a_lbl_lv.string="Lv "+_.default.I.lvRecord.toString()},e.prototype.handle_gameContinue=function(){f.default.I.resetCurStage(),f.default.I.resetNextStage(),c.default.I.shield(!0),this._isContinue=!0},e.prototype.amn_newRecord=function(){var t=this,e=this.a_n_record.getChildByName("a_n_recordBg"),o=this.a_n_record.getChildByName("a_ps_right").getComponent(cc.ParticleSystem),n=this.a_n_record.getChildByName("a_ps_left").getComponent(cc.ParticleSystem);this.a_n_record.active||(this.a_n_record.active=!0,e.scale=0,o.resetSystem(),n.resetSystem(),n.enabled=!0,o.enabled=!0),cc.tween(e).to(.25,{y:100,scale:1}).delay(.75).call(function(){t.a_n_record.active=!1,e.y=0,o.resetSystem(),n.resetSystem(),n.enabled=!1,o.enabled=!1}).start()},e.prototype.update=function(t){if(h.default.I.preStepTime=t,this._checkSpace>0?this._checkSpace--:this._checkSpace<=0&&(this._checkSpace=5,this.checkItemDie()),h.default.I.isInvincible&&(h.default.I.invincibleTime<=2&&!h.default.I.isShieldShake?(h.default.I.isShieldShake=!0,cc.tween(h.default.I.n_role.getComponent(r.default).a_n_shield).blink(2,8,{easing:"quadIn"}).call(function(){h.default.I.isShieldShake=!1,h.default.I.isInvincible=!1,c.default.I.shield(!1)}).start()):h.default.I.invincibleTime-=t),this._isContinue&&h.default.I.n_curStage){for(var e=cc.v2(h.default.I.n_role.position),o=h.default.I.n_curStage,n=o.getComponents(cc.BoxCollider),i=null,a=0;a<n.length;a++)if(0==n[a].tag){i=n[a];break}var s=cc.v2(o.x,o.y).add(i.offset),l=cc.v2(s).add(cc.v2(0,i.size.height/2+40)),p=l.sub(e),d=p.x>0?this._speed_backPos:-this._speed_backPos,_=p.y>0?this._speed_backPos:-this._speed_backPos,u=0;Math.abs(d)>Math.abs(p.x)&&(d=p.x,u++),Math.abs(_)>Math.abs(p.y)&&(_=p.y,u++),h.default.I.n_role.x+=d,h.default.I.n_role.y+=_,2==u&&(h.default.I.n_role.opacity=255,h.default.I.n_role.setPosition(l),h.default.I.gameState=GEnum.GameState.gaming,h.default.I.n_curStage=null,h.default.I.isFish_ctrlAmn=!0,
this._isContinue=!1,GAttr.isDown=!0,GAttr.d_v=GAttr.d_baseV,h.default.I.n_role.getComponent(r.default).reset(),h.default.I.isBossLv()&&h.default.I.fish(!1),h.default.I.checkWin())}},e.prototype.checkItemDie=function(){if(h.default.I.n_curStage&&h.default.I.n_role&&(!h.default.I.n_role||!h.default.I.n_role.getComponent(r.default).isDie)&&h.default.I.isLoadOver)for(var t=this.a_n_content.children,e=0;e<t.length;e++)if(t[e].group!=GEnum.Collider_Group.Role&&t[e]!=h.default.I.n_curStage&&t[e]&&cc.isValid(t[e])&&t[e].active&&t[e].y<h.default.I.n_curStage.y)if(t[e].group==GEnum.Collider_Group.Item){var o=t[e].getComponent(p.default);o&&o.die()}else if(t[e].group==GEnum.Collider_Group.Barrier){t[e].getComponent(s.default)&&t[e].getComponent(s.default).die();var n=t[e].getComponent(l.default);n&&n.stop()}else t[e].group==GEnum.Collider_Group.Prop&&t[e].getComponent(d.default).die()},a([m(cc.Node)],e.prototype,"a_n_content",void 0),a([m(cc.Label)],e.prototype,"a_lbl_score",void 0),a([m(cc.Label)],e.prototype,"a_lbl_lv",void 0),a([m(cc.Node)],e.prototype,"a_n_record",void 0),a([g],e)}(cc.Component);o.default=v,cc._RF.pop()},{"./character/character":"character","./character/characterCtr":"characterCtr","./item/barrier":"barrier","./item/barrier_arrow":"barrier_arrow","./item/item":"item","./item/prop":"prop","./manager/DataManager":"DataManager","./manager/EventManager":"EventManager","./manager/GameCtr":"GameCtr","./manager/lvCtrl":"lvCtrl"}],ghDraw:[function(t,e,o){"use strict";cc._RF.push(e,"8ac90ZDt95JoIXJjv/M9Wlv","ghDraw");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./manager/GameCtr"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.n_attachNode=null,e._gh=null,e._isDraw=!1,e._num_b=0,e._num_t=0,e._pos_bottom=[],e._pos_top=[],e._aimPos=[],e._len=0,e._x_left=0,e._x_right=0,e}return i(e,t),e.prototype.onLoad=function(){this._gh=this.node.getComponent(cc.Graphics)},e.prototype.start=function(){},e.prototype.drawState=function(t){if(this._isDraw=t,t){this._aimPos=[];var e=r.default.I.n_role.getChildByName("a_n_len").getBoundingBoxToWorld(),o=this.n_attachNode.getBoundingBoxToWorld(),n=e.xMin<o.xMin?o.xMin:e.xMin,i=e.xMax<o.xMax?e.xMax:o.xMax;this._x_left=n,this._x_right=i,this._num_b=Math.round((i-n)/e.width*6),this._num_b=this._num_b<2?2:this._num_b,this._num_t=Math.round((i-n)/e.width*6),this._num_t=this._num_t<1?1:this._num_t;var a=i-n;this._len=a,this._pos_top=[],this._pos_bottom=[];var c=0,s=this._len/this._num_t;this._pos_top.push(cc.v2(this._x_left,e.yMin));for(var l=1;l<this._num_t;l++)c=s*(l-1)+Math.random()*s+this._x_left,this._pos_top.push(cc.v2(c,e.yMin));var p=this._len/this._num_b;for(this._pos_bottom.push(cc.v2(this._x_left,o.yMax)),this._pos_bottom.push(cc.v2(this._x_right,o.yMax)),l=2;l<this._num_b;l++)c=p*(l-1)+Math.random()*p+this._x_left,this._pos_bottom.push(cc.v2(c,o.yMax));for(var d=[],_=[],u=0,h=(cc.v2(),cc.v2(0,0)),f=this.n_attachNode.convertToWorldSpaceAR(cc.v2(0,0)),y=this._pos_top.slice(0,this._pos_top.length);y.length>0;)d=[],h=y.shift().sub(f),d.push(this.getInfo(h.x,h.y,!0)),h=(_=this._pos_bottom.slice(0,this._pos_bottom.length))[u=Math.floor(Math.random()*_.length)].sub(f),d.push(this.getInfo(h.x,h.y,!1)),h=(_=_.splice(u,1))[Math.floor(Math.random()*_.length)].sub(f),d.push(this.getInfo(h.x,h.y,!1)),this._aimPos.push(d);for(var g=this._pos_bottom.slice(0,this._pos_bottom.length);g.length>0;)d=[],h=g.shift().sub(f),d.push(this.getInfo(h.x,h.y,!1)),h=(_=this._pos_top.slice(0,this._pos_top.length))[u=Math.floor(Math.random()*_.length)].sub(f),d.push(this.getInfo(h.x,h.y,!0)),h=(_=_.splice(u,1))[Math.floor(Math.random()*_.length)].sub(f),d.push(this.getInfo(h.x,h.y,!0)),this._aimPos.push(d)}else this._gh.clear()},e.prototype.getInfo=function(t,e,o){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=!1),{x:t,y:e,isTop:o}},e.prototype.updateTriangle=function(){for(var t=r.default.I.n_role.getChildByName("a_n_len").getBoundingBoxToWorld(),e=this.n_attachNode.getBoundingBoxToWorld(),o=this.n_attachNode.convertToWorldSpaceAR(cc.v2(0,0)),n=0;n<this._aimPos.length;n++)for(var i=this._aimPos[n],a=0;a<i.length;a++)i[a].isTop?i[a].y=t.yMin-o.y:i[a].y=e.yMax-o.y},e.prototype.update=function(){if(this._isDraw){this._gh.clear(),this.updateTriangle();for(var t=0;t<this._aimPos.length;t++){var e=this._aimPos[t];this._gh.moveTo(e[0].x,e[0].y),this._gh.lineTo(e[1].x,e[1].y),this._gh.lineTo(e[2].x,e[2].y),this._gh.stroke(),this._gh.close(),this._gh.fill()}}},a([l(cc.Node)],e.prototype,"n_attachNode",void 0),a([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./manager/GameCtr":"GameCtr"}],hall:[function(t,e,o){"use strict";cc._RF.push(e,"0b631LEBmZI6q1xTyYCirDo","hall");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./manager/CommonAmn"),c=t("./manager/CommonRes"),s=t("./manager/DataManager"),l=t("./manager/EventManager"),p=t("./manager/GameCtr"),d=cc._decorator,_=d.ccclass,u=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.a_n_shopEntrance=null,e.a_n_title=null,e.a_n_tap=null,e.a_n_item=null,e.a_sp_role=null,e.a_n_stage=null,e}return i(e,t),e.prototype.onLoad=function(){r.default.I.initPos(this.a_n_shopEntrance),r.default.I.initPos(this.a_sp_role.node),this.reset()},e.prototype.start=function(){this.handle_bgChange(),this.handle_roleChange(),this.addEventListenr(),cc.tween(this.a_sp_role.node).repeatForever(cc.tween().delay(3*Math.random()+3).to(.25,{y:100},{easing:"quadOut"}).to(.15,{y:0},{easing:"quadIn"}).to(.07,{scaleX:1.35*GAttr.roleBaseScale,scaleY:.75*GAttr.roleBaseScale},{easing:"quadOut"}).to(.15,{scaleY:GAttr.roleBaseScale,scaleX:GAttr.roleBaseScale},{easing:"quadIn"})).start()},e.prototype.onDestroy=function(){this.removeEventListener()},e.prototype.addEventListenr=function(){l.default.I.addEventLintener(l.E_EventType.Role_Change,this.handle_roleChange,this),l.default.I.addEventLintener(l.E_EventType.Bg_Change,this.handle_bgChange,this)},e.prototype.removeEventListener=function(){l.default.I.removeEvent(this)},e.prototype.reset=function(){r.default.I.pos_dir(this.a_n_shopEntrance,GEnum.Node_Pos.Right),r.default.I.hideNode(this.a_n_tap);var t=this.a_sp_role.node.initPos;this.a_sp_role.node.setPosition(cc.v2(t.x,t.y+130))},e.prototype.entrance=function(){var t=this;this.reset(),r.default.I.act_fade(this.a_n_tap,.01,.35,255),r.default.I.act_entrance(this.a_n_shopEntrance,.03,.5,"sineInOut"),r.default.I.act_entrance(this.a_sp_role.node,.01,.5,"sineInOut",function(){r.default.I.act_fallGround(t.a_sp_role.node)})},e.prototype.handle_roleChange=function(){this.a_sp_role.spriteFrame=c.default.I.getSfByName(s.default.I.skinCur)},e.prototype.handle_bgChange=function(){this.a_n_stage.color=s.default.I.colorCfg[s.default.I.bgIndex].Item},e.prototype.btn_a_n_tap=function(){p.default.I.checkFromURL()&&l.default.I.handleEvent(l.E_EventType.Layer_Switch,l.E_MainLayerType.Game)},e.prototype.btn_a_n_shopEntrance=function(){p.default.I.checkFromURL()&&l.default.I.handleEvent(l.E_EventType.Layer_Switch,l.E_MainLayerType.Shop)},a([u(cc.Node)],e.prototype,"a_n_shopEntrance",void 0),a([u(cc.Node)],e.prototype,"a_n_title",void 0),a([u(cc.Node)],e.prototype,"a_n_tap",void 0),a([u(cc.Node)],e.prototype,"a_n_item",void 0),a([u(cc.Sprite)],e.prototype,"a_sp_role",void 0),a([u(cc.Node)],e.prototype,"a_n_stage",void 0),a([_],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./manager/CommonAmn":"CommonAmn","./manager/CommonRes":"CommonRes","./manager/DataManager":"DataManager","./manager/EventManager":"EventManager","./manager/GameCtr":"GameCtr"}],itemAct:[function(t,e,o){"use strict";cc._RF.push(e,"a137fVMNm1C8Kr1q9/dm/Ct","itemAct");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../manager/GameCtr"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._tween=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.act=function(t,e,o){var n=2*Math.abs(t)/e;n>.05?this._tween=cc.tween(this.node).repeatForever(cc.tween().to(n,{x:-t},""!=o?{easing:o}:null).to(n,{x:t},""!=o?{easing:o}:null)).start():cc.log("..act..t = ",n)},e.prototype.actByTween=function(t,e){var o=this;void 0===e&&(e=0),this._tween=t.target(this.node).start(),this.scheduleOnce(function(){o._tween._finalAction._elapsed=e+r.default.I.preStepTime})},e.prototype.getTween=function(){return this._tween},a([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../manager/GameCtr":"GameCtr"}],itemCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"64265C4BlNEiYYgUtliy9M+","itemCtrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,Object.defineProperty(e,"I",{get:function(){return o._I},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._I=this},e.prototype.start=function(){},e._I=null,o=a([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],item:[function(t,e,o){"use strict";cc._RF.push(e,"235efBGtxpMxbBFVXRPoHwa","item");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../manager/DataManager"),c=t("../manager/GameCtr"),s=t("../manager/lvCtrl"),l=t("../manager/PoolManager"),p=t("../manager/SoundManager"),d=cc._decorator,_=d.ccclass,u=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.a_n_item=null,e.a_n_ligth=null,e.a_n_break=null,e.isDie=!1,e._n_shadow=null,e._n_breakRoot=null,e._n_arrow=null,e._a_amn_block=null,e.a_gh_draw=null,e._isMoter=!1,e._dir=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.a_n_item&&this.node.stageType!=l.E_PoolType.Item_Glue&&(this.a_n_item.color=r.default.I.colorCfg[r.default.I.bgIndex].Item),this.a_n_break&&(this.a_n_break.color=r.default.I.colorCfg[r.default.I.bgIndex].Item),this.a_n_ligth.active=!0,this.a_n_ligth.opacity=0,this._n_shadow=this.node.getChildByName("a_sp_shadow"),this._n_breakRoot=this.node.getChildByName("a_n_break"),this._n_arrow=this.node.getChildByName("a_n_arrow"),this._a_amn_block=this.node.getChildByName("a_amn_block"),this.a_gh_draw=this.node.getChildByName("a_gh_draw"),this._a_amn_block&&(this._a_amn_block.active=!1)},e.prototype.fall=function(){this._n_breakRoot&&cc.tween(this._n_breakRoot).by(1,{y:-300,opacity:-255}).start()},e.prototype.fixed=function(){this.node.stageType==l.E_PoolType.Item_Block?this.block():this.node.stageType==l.E_PoolType.Item_Moter?this.moter():this.node.stageType==l.E_PoolType.Item_Glue&&p.default.I.playEffectType(p.E_SoundType.stickyTrap)},e.prototype.block=function(){var t=this;if(cc.tween(this.a_n_item).to(5,{y:10,height:0}).call(function(){s.default.I.loadStage(),l.default.I.returnItem(t.node),GAttr.isDown=!0,GAttr.isTouch=!1}).start(),cc.tween(this._n_shadow).to(5,{y:10,height:0}).start(),this._a_amn_block.active||(this._a_amn_block.active=!0),cc.tween(this._a_amn_block).to(5,{y:10}).start(),this._a_amn_block){var e=this._a_amn_block.getComponent(cc.ParticleSystem),o=r.default.I.colorCfg[r.default.I.bgIndex].Item;e.startColor=o,e.endColor=o,e.enabled=!0,e.resetSystem()}},e.prototype.moter=function(){this._dir=this.node.moterDirection,this._isMoter=!0},e.prototype.perfect=function(){cc.tween(this.a_n_item).to(.3,{scale:1.7,opacity:100}).to(0,{scale:1,opacity:255}).start(),cc.tween(this.a_n_ligth).to(.15,{opacity:255}).delay(.1).to(.05,{opacity:0}).start()},e.prototype.die=function(){var t=this;this.isDie||(this.isDie=!0,cc.tween(this.node).delay(.2).to(.3,{scale:.15,opacity:0}).call(function(){t.node.scale=1,t.node.opacity=255,t.isDie=!1,t.node.stopAllActions(),cc.Tween.stopAllByTarget(t.node),l.default.I.returnItem(t.node)}).start())},e.prototype.reset=function(){this.isDie=!1,this._isMoter=!1,this._n_breakRoot&&(cc.Tween.stopAllByTarget(this._n_breakRoot),this._n_breakRoot.y=5,this._n_breakRoot.opacity=255);var t=this.node.stageType==l.E_PoolType.Item_BarbUp?38:20;if(this.a_n_item&&(cc.Tween.stopAllByTarget(this.a_n_item),this.a_n_item.y=0,this.a_n_item.opacity=255,this.a_n_item.height=t),this._n_shadow&&(cc.Tween.stopAllByTarget(this._n_shadow),this._n_shadow.y=-9,this._n_shadow.height=t),this._n_arrow&&(cc.Tween.stopAllByTarget(this._n_arrow),this._n_arrow.x=0),this._a_amn_block){cc.Tween.stopAllByTarget(this._a_amn_block),this._a_amn_block.y=0,this._a_amn_block.active=!1;var e=this._a_amn_block.getComponent(cc.ParticleSystem);e.resetSystem(),e.enabled=!1}},e.prototype.update=function(){!this._isMoter||GAttr.isDown||c.default.I.isInvincible||(1==this._dir?c.default.I.deltaX_roleAndstage+=2/3:c.default.I.deltaX_roleAndstage-=2/3)},a([u(cc.Node)],e.prototype,"a_n_item",void 0),a([u(cc.Node)],e.prototype,"a_n_ligth",void 0),a([u(cc.Node)],e.prototype,"a_n_break",void 0),a([_],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../manager/DataManager":"DataManager","../manager/GameCtr":"GameCtr","../manager/PoolManager":"PoolManager","../manager/SoundManager":"SoundManager","../manager/lvCtrl":"lvCtrl"}],lvCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"fa14d0SnL1IDISD7EW15y4M","lvCtrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../character/character"),c=t("../item/barrier"),s=t("../item/barrier_arrow"),l=t("../item/item"),p=t("../item/itemAct"),d=t("../item/prop"),_=t("./DataManager"),u=t("./EventManager"),h=t("./GameCtr"),f=t("./PoolManager"),y=cc._decorator,g=y.ccclass,m=(y.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._pfbRecord={},e._stageSpace=280,e.stageNum=0,e.stageNum_loaded=0,e._stageKindKeys=[],e._stageActEasing=[],e._curStageEasing="",e._stageRadius=0,e._stageSpeed=0,e._propKinds=[],e._barrierKinds=[],e._firstNode=null,e._secondNode=null,e._beginInitX=0,e._isPropKeyExit=!1,e}var o;return i(e,t),o=e,Object.defineProperty(e,"I",{get:function(){return o._I},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._I=this},e.prototype.start=function(){},e.prototype.loadLv=function(){if(u.default.I.handleEvent(u.E_EventType.Game_Rest),h.default.I.n_game_content.destroyAllChildren(),h.default.I.n_mainCamera.y=0,h.default.I.isShield=!1,h.default.I.isInvincible=!1,h.default.I.n_flag=null,h.default.I.isLoadOver=!1,h.default.I.isWin=!1,GAttr.isDown=!1,GAttr.d_v=GAttr.d_baseV,this.stageNum_loaded=0,this.scheduleOnce(function(){h.default.I.isBossLv()||(GAttr.isTouch=!0)},.1),this._pfbRecord={},this.stageNum=this.getStageNum(),this._stageActEasing=this.getStageActEasing(),this._stageActEasing.length>0){var t=Math.floor(Math.random()*this._stageActEasing.length);this._curStageEasing=this._stageActEasing[t]}this._stageRadius=this.getStageActRange(),this._stageSpeed=this.getStageActSpeed();var e=this.getStageKinds();this._stageKindKeys=Object.keys(e),this._propKinds=this.getPropKinds(),this._barrierKinds=this.getBarrierKinds();for(var o=this.getShowNum(),n=0;n<o;n++)this.loadStage();this.loadRole(),this.scheduleOnce(function(){h.default.I.isLoadOver=!0},.5)},e.prototype.loadRole=function(){var t=f.default.I.getItem(f.E_PoolType.Role);t.parent=h.default.I.n_game_content,t.getComponent(r.default).reset(),t.opacity=255,t.scale=GAttr.roleBaseScale;var e=h.default.I.n_curStage;t.y=e.y+e.height/2,t.x=0,t.setSiblingIndex(0),h.default.I.n_role=t,h.default.I.deltaX_roleAndstage=0},e.prototype.loadStage=function(){if(!(this.stageNum_loaded>this.stageNum-1)){var t=this.stageNum_loaded++,e=null;if(0==t||t==this.stageNum-1)(e=f.default.I.getItem(f.E_PoolType.Item_Normal)).getComponent(l.default).init(),e.stageType=f.E_PoolType.Item_Normal,this.record(f.E_PoolType.Item_Normal),0==t&&(h.default.I.n_curStage=e);else{var o=Math.floor(Math.random()*this._stageKindKeys.length);if((e=f.default.I.getItem(this._stageKindKeys[o])).getComponent(l.default).init(),e.getComponent(l.default).reset(),e.stageType=this._stageKindKeys[o],this._stageKindKeys[o]==f.E_PoolType.Item_Moter){var n=Math.random()>.5?1:-1;e.moterDirection=n,e.getChildByName("a_n_arrow").scaleX=n}this.record(this._stageKindKeys[o])}this.handleFlag(e,t),1==t&&(h.default.I.n_nextStage=e,this._beginInitX=Math.random()>.5?this._stageRadius:-this._stageRadius),this.handleStageAct(e,t),e.y=t*this._stageSpace,this.handleProp(e,t),this.handleBarrier(e,t),e.parent=h.default.I.n_game_content,e.stageIndex=t}},e.prototype.handleFlag=function(t,e){if(e==this.stageNum-1){var o=f.default.I.getItem(f.E_PoolType.Flag);o.parent=t,o.x=o.height/6,o.y=t.height/2+o.height/2,h.default.I.n_flag=o}},e.prototype.handleStageAct=function(t,e){var o=0;if(t.getComponent(p.default)||t.addComponent(p.default),1==e||2==e)1==e?(o=this._beginInitX,this._firstNode=t):(o=-this._beginInitX,this._secondNode=t),t.getComponent(p.default).act(o,this._stageSpeed,this._curStageEasing);else if(e>0){var n=null,i=null;o=(i=e%2==0?this._secondNode:this._firstNode).x;var a=(n=i.getComponent(p.default).getTween())._finalAction._elapsed;t.getComponent(p.default).actByTween(n.clone(),a),e%2==0?this._secondNode=t:this._firstNode=t}t.x=o},e.prototype.getFirstNode=function(){return this._firstNode},e.prototype.handleProp=function(t,e){0!=e&&e!=this.stageNum-1&&(this.create_prop(t,e,!1),1!=e&&this.create_prop(t,e,!0))},e.prototype.create_prop=function(t,e,o){var n=this.getRoundInfo(this._propKinds);if(n){var i=n.type;if(i!=d.E_PropType.None){if(i==d.E_PropType.Key&&this._pfbRecord[f.E_PoolType.Prop_Key])return;var a=this.getPropItemName(i);this.record(a);var r=f.default.I.getItem(a),c=.7*this._stageSpeed+Math.random()*this._stageSpeed*.5;r.getComponent(d.default).act(i,r,e,t,c,this._beginInitX),r.y=o?t.y-r.height/2-t.height/2-30:t.y+r.height/2+t.height/2+30,r.parent=h.default.I.n_game_content}}else cc.error("create_prop err ",JSON.stringify(this._propKinds))},e.prototype.handleBarrier=function(t,e){if(e>2&&e!=this.stageNum-1&&this._barrierKinds.length>0){var o=this.getRoundInfo(this._barrierKinds);if(o.type!=c.E_BarrierType.None){var n=this.getBarrierItemName(o.type);this.record(n);var i=f.default.I.getItem(n);switch(i.parent=h.default.I.n_game_content,o.type){case c.E_BarrierType.Arrow:i.x=Math.random()>.5?GAttr.canvasWidth/2:GAttr.canvasWidth/-2,i.getComponent(s.default).act();break;case c.E_BarrierType.Barb:var a=GAttr.canvasWidth/4+100*Math.random();i.x=t.x>0?a:-a;break;case c.E_BarrierType.Darts:var r=GAttr.canvasWidth/2-i.width/2-20,l=t.x>0?r:-r;i.x=l,i.getComponent(c.default).act(l)}i.y=t.y-t.height/2-i.height/2-40}}},e.prototype.getShowNum=function(){var t=h.default.I.n_game_content.y,e=GAttr.canvasHeight/2-t;return Math.ceil(e/this._stageSpace)+1},e.prototype.getStageNum=function(){var t=_.default.I.lvRecord,e=10;return e+=Math.floor((t-1)/5),t>1&&(e+=Math.round(3*Math.random())),e},e.prototype.getStageKinds=function(){var t=_.default.I.lvRecord,e={};return e[f.E_PoolType.Item_Normal]=100,t>=5&&(e[f.E_PoolType.Item_Break]=5==t?1:100),t>=10&&(e[f.E_PoolType.Item_Block]=10==t?1:100),t>=15&&(e[f.E_PoolType.Item_BarbUp]=15==t?1:100),t>=20&&(e[f.E_PoolType.Item_Glue]=20==t?1:100),t>=25&&(e[f.E_PoolType.Item_Moter]=20==t?1:100),e},e.prototype.getStageActRange=function(){var t=50;return(t+=3*(_.default.I.lvRecord-1))>100?100:t},e.prototype.getStageActSpeed=function(){var t=70;return(t+=_.default.I.lvRecord)>120?120:t},e.prototype.getStageActEasing=function(){var t=["sineInOut"];return _.default.I.lvRecord>=30&&t.push("quadInOut"),t},e.prototype.getPropItemName=function(t){switch(t){case d.E_PropType.Shield:return f.E_PoolType.Prop_Shield;case d.E_PropType.Key:return f.E_PoolType.Prop_Key;case d.E_PropType.Exp:return f.E_PoolType.Prop_Exp;case d.E_PropType.Coin:return f.E_PoolType.Prop_Coin}},e.prototype.getBarrierItemName=function(t){switch(t){case c.E_BarrierType.Arrow:return f.E_PoolType.Barrier_Arrow;case c.E_BarrierType.Barb:return f.E_PoolType.Barrier_Barb;case c.E_BarrierType.Darts:return f.E_PoolType.Barrier_Darts}},e.prototype.getRoundInfo=function(t){for(var e=100*Math.random(),o=0,n=0;n<t.length;n++){if(e<(o=t[n].probability))return t[n];e-=o}},e.prototype.record=function(t){this._pfbRecord[t]?this._pfbRecord[t]++:this._pfbRecord[t]=1},e.prototype.resetNextStage=function(){h.default.I.n_nextStage=null;for(var t=h.default.I.n_game_content.children,e=h.default.I.n_curStage.stageIndex,o=0;o<t.length;o++)if(t[o].stageIndex==e+1){h.default.I.n_nextStage=t[o];break}},e.prototype.resetCurStage=function(){for(var t=h.default.I.n_game_content.children,e=-1,o=-1,n=0;n<t.length;n++)t[n].stageIndex&&(-1==o?(o=t[n].stageIndex,e=n):t[n].stageIndex<o&&(o=t[n].stageIndex,e=n));e>=0&&(h.default.I.n_curStage=t[e])},e.prototype.getPropKinds=function(){var t=_.default.I.lvRecord,e=[];return t>=25?(e.push({type:d.E_PropType.None,probability:30}),e.push({type:d.E_PropType.Coin,probability:50}),e.push({type:d.E_PropType.Exp,probability:10}),e.push({type:d.E_PropType.Key,probability:5}),e.push({type:d.E_PropType.Shield,probability:5})):t>=15?(e.push({type:d.E_PropType.None,probability:40}),e.push({type:d.E_PropType.Coin,probability:40}),e.push({type:d.E_PropType.Exp,probability:10}),e.push({type:d.E_PropType.Key,probability:5}),e.push({type:d.E_PropType.Shield,probability:5})):t>=7?(e.push({type:d.E_PropType.None,probability:50}),e.push({type:d.E_PropType.Coin,probability:35}),e.push({type:d.E_PropType.Exp,probability:5}),e.push({type:d.E_PropType.Key,probability:5}),e.push({type:d.E_PropType.Shield,probability:5})):t>=5?(e.push({type:d.E_PropType.None,probability:50}),e.push({type:d.E_PropType.Coin,probability:35}),e.push({type:d.E_PropType.Exp,probability:10}),e.push({type:d.E_PropType.Key,probability:5})):t>=3?(e.push({type:d.E_PropType.None,probability:70}),e.push({type:d.E_PropType.Coin,probability:20}),e.push({type:d.E_PropType.Exp,probability:10})):t>=0&&(e.push({type:d.E_PropType.None,probability:70}),e.push({type:d.E_PropType.Coin,probability:30})),e.sort(function(t,e){return t.probability-e.probability}),e},e.prototype.getBarrierKinds=function(){var t=_.default.I.lvRecord,e=[];return t>=33?(e.push({type:c.E_BarrierType.Barb,v:3==t?1:100,probability:20}),e.push({type:c.E_BarrierType.None,v:100,probability:50}),e.push({type:c.E_BarrierType.Darts,v:13==t?1:100,probability:15}),e.push({type:c.E_BarrierType.Arrow,v:23==t?1:100,probability:15})):t>=23?(e.push({type:c.E_BarrierType.Barb,v:3==t?1:100,probability:20}),e.push({type:c.E_BarrierType.None,v:100,probability:60}),e.push({type:c.E_BarrierType.Darts,v:13==t?1:100,probability:10}),e.push({type:c.E_BarrierType.Arrow,v:23==t?1:100,probability:10})):t>=13?(e.push({type:c.E_BarrierType.Barb,v:3==t?1:100,probability:20}),e.push({type:c.E_BarrierType.None,v:100,probability:70}),e.push({type:c.E_BarrierType.Darts,v:13==t?1:100,probability:10})):t>=3&&(e.push({type:c.E_BarrierType.Barb,v:3==t?1:100,probability:20}),e.push({type:c.E_BarrierType.None,v:100,probability:80})),e.sort(function(t,e){return t.probability-e.probability}),e},e._I=null,o=a([g],e)}(cc.Component));o.default=m,cc._RF.pop()},{"../character/character":"character","../item/barrier":"barrier","../item/barrier_arrow":"barrier_arrow","../item/item":"item","../item/itemAct":"itemAct","../item/prop":"prop","./DataManager":"DataManager","./EventManager":"EventManager","./GameCtr":"GameCtr","./PoolManager":"PoolManager"}],main:[function(t,e,o){"use strict";cc._RF.push(e,"466c09BXvlIvqtqMDXVu2R+","main");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./ad/AdCtrl"),c=t("./box"),s=t("./continueLayer"),l=t("./hall"),p=t("./manager/DataManager"),d=t("./manager/EventManager"),_=t("./manager/GameCtr"),u=t("./manager/LocalDBManager"),h=t("./manager/lvCtrl"),f=t("./manager/ResManager"),y=t("./manager/SoundManager"),g=t("./result"),m=t("./set"),v=t("./shop"),b=cc._decorator,I=b.ccclass,w=b.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.n_mainCamera=null,e.n_layer=null,e.a_n_common=null,e.a_n_hall=null,e.a_n_game=null,e.a_n_set=null,e.a_n_msgRoot=null,e.a_n_shop=null,e.a_n_result=null,e.a_n_box=null,e.a_n_continueLayer=null,e._preType=null,e}return i(e,t),e.prototype.onLoad=function(){_.default.I.reWriteOnTouchEnd(),u.default.I.scoreRecord=0,p.default.I.init(),_.default.I.fit(),f.default.I.preLoad(),r.default.I.init(),_.default.I.n_mainCamera=this.n_mainCamera,_.default.I.n_common=this.a_n_common,_.default.I.n_msgRoot=this.a_n_msgRoot,this.a_n_game.active=!0,this.a_n_set.active=!0,this.a_n_hall.active=!0,this.a_n_common.active=!0},e.prototype.start=function(){this.addEventListenr(),this.scheduleOnce(function(){0==u.default.I.scoreRecord?d.default.I.handleEvent(d.E_EventType.Layer_Switch,d.E_MainLayerType.Hall):d.default.I.handleEvent(d.E_EventType.Layer_Switch,d.E_MainLayerType.Game)},.1)},e.prototype.onDestroy=function(){this.removeEventListener()},e.prototype.addEventListenr=function(){d.default.I.addEventLintener(d.E_EventType.Layer_Switch,this.handleSwitch,this)},e.prototype.removeEventListener=function(){d.default.I.removeEvent(this)},e.prototype.handleSwitch=function(t){var e=this;if(_.default.I.layerState!=GEnum.LayerState.shop||t!=d.E_MainLayerType.Hall){var o=null;switch(this.reset(t),t){case d.E_MainLayerType.Hall:_.default.I.enableCollision(!1),_.default.I.gameState=GEnum.GameState.preBegin,_.default.I.layerState=GEnum.LayerState.hall,this.a_n_hall.active=!0,this.a_n_hall.getComponent(l.default).entrance(),this._preType!=t&&y.default.I.playMusicType(y.E_MusicType.hall);break;case d.E_MainLayerType.Game:_.default.I.enableCollision(!0),_.default.I.gameState=GEnum.GameState.gaming,_.default.I.layerState=GEnum.LayerState.gaming,this.a_n_game.active=!0,h.default.I.loadLv(),this._preType!=t&&y.default.I.playMusicType(y.E_MusicType.main);break;case d.E_MainLayerType.Result:o=function(){_.default.I.layerState=GEnum.LayerState.result,e.a_n_result.active=!0,e.a_n_result.getComponent(g.default).entrance(_.default.I.isWin)},this.a_n_result?o():f.default.I.getPrefab("prefab/result",this,function(t){e.a_n_result=cc.instantiate(t),e.a_n_result.parent=e.n_layer,o()});break;case d.E_MainLayerType.Continue:o=function(){_.default.I.isShield=!1,_.default.I.layerState=GEnum.LayerState.result,e.a_n_continueLayer.active=!0,e.a_n_continueLayer.getComponent(s.default).entrance()},this.a_n_continueLayer?o():f.default.I.getPrefab("prefab/continueLayer",this,function(t){e.a_n_continueLayer=cc.instantiate(t),e.a_n_continueLayer.parent=e.node,o()});break;case d.E_MainLayerType.Set:this.a_n_set.active?this.a_n_set.getComponent(m.default).close():(this.a_n_set.active=!0,this.a_n_set.getComponent(m.default).act_back());break;case d.E_MainLayerType.Shop:GAttr.isSwitch=!0,o=function(){_.default.I.layerState=GEnum.LayerState.shop,e.a_n_shop.active=!0,e.a_n_shop.getComponent(v.default).entrance()},this.a_n_shop?o():f.default.I.getPrefab("prefab/shop/shop",this,function(t){e.a_n_shop=cc.instantiate(t),e.a_n_shop.parent=e.n_layer,o()});break;case d.E_MainLayerType.Box:o=function(){_.default.I.layerState=GEnum.LayerState.box,e.a_n_box.active=!0,e.a_n_box.getComponent(c.default).init()},this.a_n_box?o():f.default.I.getPrefab("prefab/box",this,function(t){e.a_n_box=cc.instantiate(t),e.a_n_box.parent=e.n_layer,o()})}this._preType=t}else _.default.I.layerState=GEnum.LayerState.hall},
e.prototype.reset=function(t){var e=this,o=function(){e.a_n_game.active=!1,e.a_n_set.active=!1,e.a_n_hall.active=!1,e.a_n_shop&&(e.a_n_shop.active=!1),e.a_n_result&&(e.a_n_result.active=!1),e.a_n_continueLayer&&(e.a_n_continueLayer.active=!1)};switch(t){case d.E_MainLayerType.Hall:o();break;case d.E_MainLayerType.Continue:break;case d.E_MainLayerType.Game:o();break;case d.E_MainLayerType.Result:this.a_n_continueLayer&&(this.a_n_continueLayer.active=!1),this.a_n_box&&(this.a_n_box.active=!1);break;case d.E_MainLayerType.Set:case d.E_MainLayerType.Shop:break;case d.E_MainLayerType.Box:this.a_n_continueLayer&&(this.a_n_continueLayer.active=!1)}},e.prototype.tg_collisionDebugDraw=function(t){_.default.I.enableCollisionDebugDraw(t.isChecked)},e.prototype.btn_n_logo=function(){},a([w(cc.Node)],e.prototype,"n_mainCamera",void 0),a([w(cc.Node)],e.prototype,"n_layer",void 0),a([w(cc.Node)],e.prototype,"a_n_common",void 0),a([w(cc.Node)],e.prototype,"a_n_hall",void 0),a([w(cc.Node)],e.prototype,"a_n_game",void 0),a([w(cc.Node)],e.prototype,"a_n_set",void 0),a([w(cc.Node)],e.prototype,"a_n_msgRoot",void 0),a([w(cc.Node)],e.prototype,"a_n_shop",void 0),a([w(cc.Node)],e.prototype,"a_n_result",void 0),a([w(cc.Node)],e.prototype,"a_n_box",void 0),a([w(cc.Node)],e.prototype,"a_n_continueLayer",void 0),a([I],e)}(cc.Component);o.default=A,cc._RF.pop()},{"./ad/AdCtrl":"AdCtrl","./box":"box","./continueLayer":"continueLayer","./hall":"hall","./manager/DataManager":"DataManager","./manager/EventManager":"EventManager","./manager/GameCtr":"GameCtr","./manager/LocalDBManager":"LocalDBManager","./manager/ResManager":"ResManager","./manager/SoundManager":"SoundManager","./manager/lvCtrl":"lvCtrl","./result":"result","./set":"set","./shop":"shop"}],msgTip:[function(t,e,o){"use strict";cc._RF.push(e,"79367yXCgpEFolUgsi7Yxy4","msgTip");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./manager/GameCtr"),c=t("./manager/PoolManager"),s=cc._decorator,l=s.ccclass,p=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.c_normal=null,e.c_perfect=null,e.c_score=null,e.c_double=null,e}return i(e,t),e.prototype.act=function(t,e,o){this.node.opacity=255;var n=this.node.getComponent(cc.Label);n.string=t;var i=cc.v2();i=e==r.E_MsgType.Normal?cc.v2(0,0):o.add(cc.v2(0,r.default.I.n_role.height*r.default.I.n_role.scaleY)),this.node.setPosition(i);var a=50;switch(e){case r.E_MsgType.Normal:a=150,n.fontSize=40,this.node.color=this.c_normal;break;case r.E_MsgType.Perfect:n.fontSize=40,this.node.color=this.c_perfect;break;case r.E_MsgType.Score:n.fontSize=50,this.node.color=this.c_score;break;case r.E_MsgType.Double:n.fontSize=40,this.node.color=this.c_double}n.lineHeight=n.fontSize+2,this.runAct(a)},e.prototype.runAct=function(t){var e=this;void 0===t&&(t=75),cc.tween(this.node).parallel(cc.tween().by(.35,{y:t},{easing:"cubicOut"}),cc.tween().to(.35,{scale:1.2},{easing:"cubicOut"})).parallel(cc.tween().by(.2,{y:10,opacity:-100}),cc.tween().to(.2,{scale:1})).call(function(){e.node.opacity=255,c.default.I.returnItem(e.node)}).start()},a([p(cc.Color)],e.prototype,"c_normal",void 0),a([p(cc.Color)],e.prototype,"c_perfect",void 0),a([p(cc.Color)],e.prototype,"c_score",void 0),a([p(cc.Color)],e.prototype,"c_double",void 0),a([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./manager/GameCtr":"GameCtr","./manager/PoolManager":"PoolManager"}],n_touch:[function(t,e,o){"use strict";cc._RF.push(e,"e684eHfSjFOjYK2fOjLYoHu","n_touch");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./character/characterCtr"),c=t("./ghDraw"),s=t("./item/item"),l=t("./manager/GameCtr"),p=t("./manager/lvCtrl"),d=t("./manager/PoolManager"),_=t("./manager/SoundManager"),u=cc._decorator,h=u.ccclass,f=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this)},e.prototype.touchStart=function(){if(this.isEnable()){GAttr.touchTimes++;var t=function(){l.default.I.n_curStage.getComponent(s.default).die(),l.default.I.n_curStage=null,l.default.I.n_nextStage.getComponent(s.default).fall(),r.default.I.ps_circle(),p.default.I.loadStage(),GAttr.isTouch=!1,l.default.I.isBossLv()&&l.default.I.fish(),_.default.I.playEffectType(_.E_SoundType.jump)},e=l.default.I.n_curStage;if(e&&e.stageType==d.E_PoolType.Item_Glue){if(1==GAttr.touchTimes)r.default.I.jumpByY(40),_.default.I.playEffectType(_.E_SoundType.stickyTrap),l.default.I.n_curStage.getComponent(s.default).a_gh_draw.getComponent(c.default).drawState(!0);else if(2==GAttr.touchTimes){l.default.I.n_curStage.getComponent(s.default).a_gh_draw.getComponent(c.default).drawState(!1);var o=l.default.I.n_curStage.convertToWorldSpaceAR(cc.v2(0,0)),n=l.default.I.n_role.convertToWorldSpaceAR(cc.v2(0,0)).y-o.y;r.default.I.jumpByY(310-n),t()}}else r.default.I.jumpByY(310),t()}},e.prototype.isEnable=function(){return GAttr.isTouch&&l.default.I.n_nextStage},a([h],e)}(cc.Component));o.default=f,cc._RF.pop()},{"./character/characterCtr":"characterCtr","./ghDraw":"ghDraw","./item/item":"item","./manager/GameCtr":"GameCtr","./manager/PoolManager":"PoolManager","./manager/SoundManager":"SoundManager","./manager/lvCtrl":"lvCtrl"}],pfb_shopItem:[function(t,e,o){"use strict";cc._RF.push(e,"a2753lOYetH2LVto66H9RXD","pfb_shopItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./ad/AdCtrl"),c=t("./ad/AdEvent"),s=t("./manager/CommonRes"),l=t("./manager/DataManager"),p=t("./manager/EventManager"),d=t("./manager/GameCtr"),_=cc._decorator,u=_.ccclass,h=_.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.a_n_coin=null,e.a_lbl_coin=null,e.a_n_ad=null,e.a_sp_role=null,e.a_n_selectTip=null,e.a_tg_stage=null,e._data=null,e._isOwn=!1,e}return i(e,t),e.prototype.start=function(){this.addEventListenr()},e.prototype.onDestroy=function(){this.removeEventListener()},e.prototype.addEventListenr=function(){c.default.I.addEventLintener(c.E_ADEventType.video_showOver,this.handle_showOver,this),c.default.I.addEventLintener(c.E_ADEventType.video_showFail,this.handle_showFail,this)},e.prototype.removeEventListener=function(){c.default.I.removeEvent(this)},e.prototype.init=function(t){this._data=t,this.a_sp_role.spriteFrame=s.default.I.getSfByName(t.name);var e=l.default.I.checkSkinOwn(t.name);this._isOwn=e,this.a_n_ad.active=!e,this.a_n_coin.active=!e,e||("ad"==this._data.type?this.a_n_coin.active=!1:(this.a_n_ad.active=!1,this.a_lbl_coin.string=t.v.toString()))},e.prototype.canBuy=function(){return l.default.I.coin>=this._data.v},e.prototype.handle_succ=function(){this.a_n_ad.active=!1,this.a_n_coin.active=!1;var t=l.default.I.skinOwn;l.default.I.skinOwn=t+","+this._data.name,p.default.I.handleEvent(p.E_EventType.Shop_RoleChange,this._data.name)},e.prototype.handle_showOver=function(){r.default.I.type==r.E_AdType.Shop&&this._data.name==d.default.I.selectSkinName&&this.handle_succ()},e.prototype.handle_showFail=function(){},e.prototype.btn_a_n_ad=function(){r.default.I.isLoad_rewarded()&&(d.default.I.selectSkinName=this._data.name,r.default.I.type=r.E_AdType.Shop,r.default.I.showRewardedVideoAd())},e.prototype.selected=function(t){this.a_tg_stage.isChecked=t,this.a_n_selectTip.active=t},e.prototype.btn_a_n_coin=function(){cc.log("coin.num = ",l.default.I.coin),this.canBuy()?(l.default.I.coin-=this._data.v,this.handle_succ()):d.default.I.showMsg("金币不足",d.E_MsgType.Normal)},e.prototype.btn_a_tg_stage=function(){this.a_tg_stage.isChecked&&(this.a_n_selectTip.active=this._isOwn,p.default.I.handleEvent(p.E_EventType.Shop_RoleChange,this._data.name))},a([h(cc.Node)],e.prototype,"a_n_coin",void 0),a([h(cc.Label)],e.prototype,"a_lbl_coin",void 0),a([h(cc.Node)],e.prototype,"a_n_ad",void 0),a([h(cc.Sprite)],e.prototype,"a_sp_role",void 0),a([h(cc.Node)],e.prototype,"a_n_selectTip",void 0),a([h(cc.Toggle)],e.prototype,"a_tg_stage",void 0),a([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./ad/AdCtrl":"AdCtrl","./ad/AdEvent":"AdEvent","./manager/CommonRes":"CommonRes","./manager/DataManager":"DataManager","./manager/EventManager":"EventManager","./manager/GameCtr":"GameCtr"}],pgAct:[function(t,e,o){"use strict";cc._RF.push(e,"8bc0bcArIJCF7Jk4JuHak+1","pgAct");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_PgType=void 0;var r,c=cc._decorator,s=c.ccclass,l=c.property;(function(t){t[t.Normal=0]="Normal"})(r=o.E_PgType||(o.E_PgType={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.Normal,e.time=5,e.isPlayedOnLoad=!1,e._pg=null,e._callFunc=null,e}return i(e,t),e.prototype.onLoad=function(){this._pg=this.node.getComponent(cc.ProgressBar)},e.prototype.start=function(){this.isPlayedOnLoad&&this.act()},e.prototype.act=function(t){if(void 0===t&&(t=null),this._callFunc=t,this._pg)switch(this.type){case r.Normal:this.handle_normal()}},e.prototype.handle_normal=function(){var t=this;cc.tween(this._pg).to(this.time,{progress:1}).call(function(){t._callFunc&&t._callFunc()}).start()},e.prototype.stop=function(){cc.Tween.stopAllByTarget(this._pg)},a([l({type:cc.Enum(r),tooltip:"进度条类型"})],e.prototype,"type",void 0),a([l],e.prototype,"time",void 0),a([l({tooltip:"是否加载后，直接播放"})],e.prototype,"isPlayedOnLoad",void 0),a([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],propAct:[function(t,e,o){"use strict";cc._RF.push(e,"37796GJ8ZZHrJ6CD1xTzsqK","propAct");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_PropActType=void 0;var r,c=cc._decorator,s=c.ccclass,l=c.property;(function(t){t[t.None=0]="None",t[t.L2R_Common=1]="L2R_Common",t[t.T2D_Common=2]="T2D_Common"})(r=o.E_PropActType||(o.E_PropActType={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.None,e._speed=0,e._initX=0,e._initY=0,e}return i(e,t),e.prototype.start=function(){},e.prototype.act=function(t,e,o,n){switch(void 0===o&&(o=0),void 0===n&&(n=0),this._speed=e,this._initX=o,this._initY=n,t){case r.L2R_Common:this.handle_L2RCommon();break;case r.T2D_Common:this.handle_T2DCommon()}},e.prototype.handle_L2RCommon=function(){var t=2*Math.abs(this._initX)/this._speed;t>.05?cc.tween(this.node).delay(.1).repeatForever(cc.tween().to(t,{x:-this._initX}).to(t,{x:this._initX})).start():cc.log(".handle_L2RCommon..t = ",t)},e.prototype.handle_T2DCommon=function(){var t=Math.abs(this._initY)/this._speed;t>.05?cc.tween(this.node).repeatForever(cc.tween().by(t,{y:-this._initY}).by(t,{y:this._initY})).start():cc.log("..handle_T2DCommon..t = ",t)},a([l({type:cc.Enum(r)})],e.prototype,"type",void 0),a([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],prop:[function(t,e,o){"use strict";cc._RF.push(e,"771aetC70FDV7NFzw5qlELg","prop");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.E_PropType=void 0;var r,c=t("../character/characterCtr"),s=t("../manager/DataManager"),l=t("../manager/EventManager"),p=t("../manager/GameCtr"),d=t("../manager/PoolManager"),_=t("../manager/SoundManager"),u=t("./propAct"),h=cc._decorator,f=h.ccclass,y=h.property;(function(t){t[t.Key=0]="Key",t[t.Exp=1]="Exp",t[t.Coin=2]="Coin",t[t.Shield=3]="Shield",t[t.None=4]="None"})(r=o.E_PropType||(o.E_PropType={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.Key,e.isDie=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.act=function(t,e,o,n,i,a){var c=0;switch(e.getComponent(u.default)||e.addComponent(u.default),t){case r.Coin:Math.random()>.8?(e.getComponent(u.default).act(u.E_PropActType.T2D_Common,20,50,30),e.x=n.x):e.x=100*Math.random();break;case r.Exp:Math.random()>.5?(c=o%2==0?-a:a,e.getComponent(u.default).act(u.E_PropActType.L2R_Common,i,c),e.x=c):e.x=100*Math.random();break;case r.Key:Math.random()>.2?(c=o%2==0?-a:a,e.getComponent(u.default).act(u.E_PropActType.L2R_Common,1.3*i,c+n.width/2),e.x=c>0?c+n.width/2:c-n.width/2):e.x=100*Math.random();break;case r.Shield:Math.random()>.2?(c=o%2==0?-a:a,e.getComponent(u.default).act(u.E_PropActType.L2R_Common,i,c),e.x=c):e.x=100*Math.random()}},e.prototype.returnNode=function(){this.node.scale=1,this.node.opacity=255,d.default.I.returnItem(this.node)},e.prototype.die=function(){var t=this;if(!this.isDie){this.isDie=!0,this.node.stopAllActions();var e=this.node.y-70*Math.random(),o=this.node.x+30*Math.random()*(Math.random()>.5?-1:1);cc.tween(this.node).delay(.2).to(.3,{scale:.15,opacity:0,x:o,y:e}).call(function(){t.returnNode()}).start()}},e.prototype.gain=function(){var t=this;if(!this.isDie){this.isDie=!0;var e=p.default.I.n_mainCamera.getComponent(cc.Camera),o=this.node.convertToWorldSpaceAR(cc.v2(0,0)),n=cc.v2();e.getWorldToScreenPoint(o,n);var i=null,a=cc.v2(p.default.I.n_coinRoot.position);this.scheduleOnce(function(){switch(t.type){case r.Coin:(i=d.default.I.getItem(d.E_PoolType.Amn_Coin)).parent=p.default.I.n_common,i.scale=1,i.setPosition(cc.v2(n.x-GAttr.canvasWidth/2,n.y-GAttr.canvasHeight/2)),s.default.I.coin+=1,t.actToAimPos(i,a,function(){l.default.I.handleEvent(l.E_EventType.Coin_Change)}),_.default.I.playEffectType(_.E_SoundType.coinGain);break;case r.Exp:p.default.I.addScore(!0);break;case r.Key:s.default.I.keyNum+=1,(i=d.default.I.getItem(d.E_PoolType.Amn_Key)).parent=p.default.I.n_common,i.scale=1,i.setPosition(cc.v2(n.x-GAttr.canvasWidth/2,n.y-GAttr.canvasHeight/2)),a=cc.v2(p.default.I.n_keyRoot.children[s.default.I.keyNum].position).add(cc.v2(p.default.I.n_keyRoot.position)),t.actToAimPos(i,a,function(){l.default.I.handleEvent(l.E_EventType.Key_NumChange)});break;case r.Shield:p.default.I.amn_shield(cc.v2(t.node.position)),c.default.I.shield(!0)}t.returnNode()},.01),this.type==r.Exp&&p.default.I.showMsg("bonus x2",p.E_MsgType.Double,cc.v2(p.default.I.n_role.position))}},e.prototype.actToAimPos=function(t,e,o){cc.tween(t).to(.5,{x:e.x,y:e.y,scale:.7}).call(function(){o&&o(),d.default.I.returnItem(t)}).start()},e.prototype.unuse=function(){this.isDie=!1},e.prototype.reuse=function(){},a([y({type:cc.Enum(r)})],e.prototype,"type",void 0),a([f],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../character/characterCtr":"characterCtr","../manager/DataManager":"DataManager","../manager/EventManager":"EventManager","../manager/GameCtr":"GameCtr","../manager/PoolManager":"PoolManager","../manager/SoundManager":"SoundManager","./propAct":"propAct"}],result:[function(t,e,o){"use strict";cc._RF.push(e,"a87c1K6fY9JlKOsR9V7NETo","result");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./manager/CommonAmn"),c=t("./manager/CommonRes"),s=t("./manager/DataManager"),l=t("./manager/EventManager"),p=t("./manager/GameCtr"),d=t("./manager/PoolManager"),_=t("./manager/SoundManager"),u=cc._decorator,h=u.ccclass,f=u.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.a_result_bg=null,e.a_n_fail=null,e.a_n_win=null,e.a_n_winFace=null,e.a_n_btns=null,e.a_n_homeBg=null,e.a_n_nextBg=null,e.a_n_againBg=null,e.a_n_lvBg=null,e.a_n_resultWinTip=null,e.a_n_resultFailTip=null,e._actTime=.7,e._isWin=!1,e}return i(e,t),e.prototype.onLoad=function(){this.a_result_bg.color=s.default.I.colorCfg[s.default.I.bgIndex].Bg;for(var t=this.a_n_lvBg.children,e=0;e<t.length;e++)t[e].initPos=cc.v2(t[e].position);this.reset()},e.prototype.start=function(){},e.prototype.reset=function(){for(var t=this.a_n_lvBg.children,e=0;e<t.length;e++)cc.Tween.stopAllByTarget(t[e]),cc.Tween.stopAllByTarget(t[e].getChildByName("lbl_lv").getComponent(cc.Label)),cc.Tween.stopAllByTarget(t[e].getChildByName("lbl_lv"));this.a_n_fail.active=!this._isWin,this.a_n_resultFailTip.active=!this._isWin,this.a_n_win.active=this._isWin,this.a_n_resultWinTip.active=this._isWin,r.default.I.hideNode(this.a_n_nextBg),r.default.I.hideNode(this.a_n_againBg),r.default.I.hideNode(this.a_n_homeBg),this._isWin?(r.default.I.hideNode(this.a_n_winFace),r.default.I.hideNode(this.a_n_resultWinTip)):r.default.I.hideNode(this.a_n_resultFailTip),this.resetPos()},e.prototype.entrance=function(t){this._isWin=t,this.reset(),this._isWin?(_.default.I.playEffectType(_.E_SoundType.win),r.default.I.act_fade(this.a_n_nextBg,.01,1,255),r.default.I.act_fade(this.a_n_resultWinTip,.01,1,255),r.default.I.act_fade(this.a_n_winFace,.01,1,255)):(_.default.I.playEffectType(_.E_SoundType.fail),r.default.I.act_fade(this.a_n_againBg,.01,1,255),r.default.I.act_fade(this.a_n_resultFailTip,.01,1,255),s.default.I.scoreRecord=0,p.default.I.isRecord=!1,s.default.I.loginFirst&&(s.default.I.loginFirst=!1)),this.a_result_bg.color=this._isWin?new cc.Color(254,113,131):new cc.Color(167,86,200),this.a_n_resultFailTip.parent.color=this._isWin?new cc.Color(236,69,118):new cc.Color(148,77,170),this.a_n_homeBg.color=this._isWin?new cc.Color(236,69,118):new cc.Color(148,77,170),this.a_n_nextBg.color=this._isWin?new cc.Color(236,69,118):new cc.Color(148,77,170),this.a_n_againBg.color=this._isWin?new cc.Color(236,69,118):new cc.Color(148,77,170),r.default.I.act_fade(this.a_n_homeBg,.01,1,255),this.init(),p.default.I.gameTims++},e.prototype.init=function(){this._isWin&&this.win()},e.prototype.win=function(){var t=this;this.resetPos();for(var e=this.a_n_lvBg.children,o=0,n=0;n<e.length;n++)o=s.default.I.lvRecord+n-1,e[n].getChildByName("lbl_lv").getComponent(cc.Label).string=o.toString(),e[n].getComponent(cc.Sprite).spriteFrame=o%5==0&&0!=o?c.default.I.sf_lvBg_boss:c.default.I.sf_lvBg_normal;this.scheduleOnce(function(){t.actLv()},.5),s.default.I.lvRecord++},e.prototype.resetPos=function(){for(var t=this.a_n_lvBg.children,e=null,o=0;o<t.length;o++)t[o].setPosition(t[o].initPos),e=t[o].getChildByName("lbl_lv").getComponent(cc.Label),1==o?(e.fontSize=74,e.node.color=new cc.Color(247,216,86),t[o].width=120,t[o].height=120):(e.fontSize=50,e.node.color=new cc.Color(73,79,106),t[o].width=80,t[o].height=80)},e.prototype.actLv=function(){for(var t=this.a_n_lvBg.children,e=0,o=0,n=null,i=0;i<t.length;i++)0==i?(e=50,o=80,n=new cc.Color(73,79,106)):1==i?(e=50,o=80,n=new cc.Color(73,79,106)):2==i?(e=74,o=120,n=new cc.Color(247,216,86)):(e=50,o=80,n=new cc.Color(73,79,106)),this.actPos(t[i],t[i].x-260,o,i),this.actLbl(t[i].getChildByName("lbl_lv").getComponent(cc.Label),e),this.actLblNode(t[i].getChildByName("lbl_lv"),n)},e.prototype.actPos=function(t,e,o){cc.tween(t).to(this._actTime,{x:e,width:o,height:o},{easing:"backOut"}).start()},e.prototype.actLbl=function(t,e){cc.tween(t).to(this._actTime,{fontSize:e,lineHeight:e+2},{easing:"backOut"}).start()},e.prototype.actLblNode=function(t,e){e!=t.color&&cc.tween(t).delay(this._actTime/2).call(function(){t.color=e}).start()},e.prototype.btn_a_n_home=function(){this.close(),l.default.I.handleEvent(l.E_EventType.Layer_Switch,l.E_MainLayerType.Hall)},e.prototype.btn_a_n_next=function(){HUHU_showInterstitialAd(),this.close(),l.default.I.handleEvent(l.E_EventType.Layer_Switch,l.E_MainLayerType.Game)},e.prototype.btn_a_n_again=function(){this.close(),l.default.I.handleEvent(l.E_EventType.Layer_Switch,l.E_MainLayerType.Game)},e.prototype.close=function(){d.default.I.returnItem(p.default.I.n_role)},a([f(cc.Node)],e.prototype,"a_result_bg",void 0),a([f(cc.Node)],e.prototype,"a_n_fail",void 0),a([f(cc.Node)],e.prototype,"a_n_win",void 0),a([f(cc.Node)],e.prototype,"a_n_winFace",void 0),a([f(cc.Node)],e.prototype,"a_n_btns",void 0),a([f(cc.Node)],e.prototype,"a_n_homeBg",void 0),a([f(cc.Node)],e.prototype,"a_n_nextBg",void 0),a([f(cc.Node)],e.prototype,"a_n_againBg",void 0),a([f(cc.Node)],e.prototype,"a_n_lvBg",void 0),a([f(cc.Node)],e.prototype,"a_n_resultWinTip",void 0),a([f(cc.Node)],e.prototype,"a_n_resultFailTip",void 0),a([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"./manager/CommonAmn":"CommonAmn","./manager/CommonRes":"CommonRes","./manager/DataManager":"DataManager","./manager/EventManager":"EventManager","./manager/GameCtr":"GameCtr","./manager/PoolManager":"PoolManager","./manager/SoundManager":"SoundManager"}],set:[function(t,e,o){"use strict";cc._RF.push(e,"860e1M/MJlL7LaDqfdG1wpo","set");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./manager/DataManager"),c=t("./manager/GameCtr"),s=t("./manager/LocalDBManager"),l=t("./manager/SoundManager"),p=cc._decorator,d=p.ccclass,_=p.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.a_n_bg=null,e.a_tg_s=null,e.a_tg_m=null,e.a_tg_v=null,e}return i(e,t),e.prototype.onLoad=function(){this.a_n_bg.initY=this.a_n_bg.y,this.reset()},e.prototype.start=function(){cc.log("this.node.pos = ",this.node.x,this.node.y),c.default.I.checkShake()?this.a_tg_s.isChecked=s.default.I.shakeState:this.a_tg_v.node.active=!1,this.a_tg_m.isChecked=s.default.I.musicState,this.a_tg_s.isChecked=s.default.I.effectState},e.prototype.reset=function(){this.a_n_bg.y=this.a_n_bg.height+this.a_n_bg.initY},e.prototype.act_back=function(){cc.tween(this.a_n_bg).to(.5,{y:this.a_n_bg.initY},{easing:"expoOut"}).start()},e.prototype.act_go=function(t){cc.tween(this.a_n_bg).to(.5,{y:this.a_n_bg.height+this.a_n_bg.initY},{easing:"expoOut"}).call(t).start()},e.prototype.btn_a_tg_m=function(){this.a_tg_m.isChecked?l.default.I.resetMusic():l.default.I.stopMusic()},e.prototype.btn_a_tg_s=function(){this.a_tg_s.isChecked?l.default.I.resumeSound():l.default.I.pauseSound()},e.prototype.btn_a_tg_v=function(){this.a_tg_v.isChecked?r.default.I.isShake=!0:r.default.I.isShake=!1},e.prototype.close=function(){var t=this;this.act_go(function(){t.reset(),t.node.active=!1})},a([_(cc.Node)],e.prototype,"a_n_bg",void 0),a([_(cc.Toggle)],e.prototype,"a_tg_s",void 0),a([_(cc.Toggle)],e.prototype,"a_tg_m",void 0),a([_(cc.Toggle)],e.prototype,"a_tg_v",void 0),a([d],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./manager/DataManager":"DataManager","./manager/GameCtr":"GameCtr","./manager/LocalDBManager":"LocalDBManager","./manager/SoundManager":"SoundManager"}],shop:[function(t,e,o){"use strict";cc._RF.push(e,"b598dOTRI9B2I9Fxt5630PV","shop");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./manager/CommonAmn"),c=t("./manager/CommonRes"),s=t("./manager/DataManager"),l=t("./manager/EventManager"),p=t("./manager/PoolManager"),d=t("./pfb_shopItem"),_=cc._decorator,u=_.ccclass,h=_.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.a_sp_role=null,e.a_n_sv=null,e.a_n_content=null,e._curSkin="",e}return i(e,t),e.prototype.onLoad=function(){this.node.getComponent(cc.Widget)&&this.node.getComponent(cc.Widget).updateAlignment(),r.default.I.initPos(this.node),this.node.opacity=0},e.prototype.start=function(){this.reset(),this.addEventListenr()},e.prototype.onDestroy=function(){this.removeEventListener()},e.prototype.addEventListenr=function(){l.default.I.addEventLintener(l.E_EventType.Shop_RoleChange,this.handle_shopRoleChange,this)},e.prototype.removeEventListener=function(){l.default.I.removeEvent(this)},e.prototype.reset=function(){var t=this;this.scheduleOnce(function(){r.default.I.pos_dir(t.node,GEnum.Node_Pos.Right),r.default.I.exitPos(t.node,r.default.I.getPos_Left(t.node)),t.node.opacity=255})},e.prototype.entrance=function(){this.reset(),r.default.I.act_entrance(this.node,.05,.4,"sineInOut",function(){GAttr.isSwitch=!1}),this.init();var t=cc.view.getDesignResolutionSize().width;if(GAttr.canvasWidth<t){var e=GAttr.canvasWidth/t;this.a_n_sv.scale=e}},e.prototype.init=function(){if(0==this.a_n_content.childrenCount)for(var t=0;t<s.default.I.skinCfg.length;t++){var e=p.default.I.getItem(p.E_PoolType.shopRoleItem);e.parent=this.a_n_content;var o=s.default.I.skinCfg[t];e.itemName=o.name,e.getComponent(d.default).init(o)}this.handle_shopRoleChange(s.default.I.skinCur)},e.prototype.handle_shopRoleChange=function(t){this.a_sp_role.spriteFrame=c.default.I.getSfByName(t),this.changeState(t)},e.prototype.changeState=function(t){for(var e=this.a_n_content.children,o=0;o<e.length;o++)s.default.I.checkSkinOwn(t)&&(e[o].itemName==t?(e[o].getComponent(d.default).selected(!0),this._curSkin=t):e[o].getComponent(d.default).selected(!1))},e.prototype.btn_a_n_back=function(){var t=this;GAttr.isSwitch=!0,r.default.I.act_exit(this.node,0,.4,"",function(){t.node.active=!1,t.node.opacity=0,GAttr.isSwitch=!1,l.default.I.handleEvent(l.E_EventType.Layer_Switch,l.E_MainLayerType.Hall)}),this._curSkin!=s.default.I.skinCur&&(s.default.I.skinCur=this._curSkin,l.default.I.handleEvent(l.E_EventType.Role_Change))},a([h(cc.Sprite)],e.prototype,"a_sp_role",void 0),a([h(cc.Node)],e.prototype,"a_n_sv",void 0),a([h(cc.Node)],e.prototype,"a_n_content",void 0),a([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./manager/CommonAmn":"CommonAmn","./manager/CommonRes":"CommonRes","./manager/DataManager":"DataManager","./manager/EventManager":"EventManager","./manager/PoolManager":"PoolManager","./pfb_shopItem":"pfb_shopItem"}],testInspector:[function(t,e,o){"use strict";cc._RF.push(e,"f15d8QWS/9Oz7zrGyr7Vhqu","testInspector");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=r.inspector,p=r.menu,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.com_name="",e}return i(e,t),a([s],e.prototype,"com_name",void 0),a([c,p("autoBind"),l("packages://hello-test/inspector.js")],e)}(cc.Component);o.default=d,cc._RF.pop()},{}],typewriter:[function(t,e,o){
"use strict";cc._RF.push(e,"18850TmghVNNrVT5VtbESDD","typewriter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._baseStr="",e._curStr="",e._index=0,e._lbl=null,e._deltaCount=0,e._deltaBaseCount=6,e._shinkTimes=0,e._shinkCount=0,e._isAct=!1,e._strArr=[],e._finishCall=null,e._pageIndex=0,e}return i(e,t),e.prototype.start=function(){this._lbl=this.node.getComponent(cc.Label),this._lbl.string=""},e.prototype.act=function(t,e,o,n){void 0===e&&(e=6),void 0===o&&(o=0),void 0===n&&(n=null),t&&(this._pageIndex=o,this._finishCall=n,this._isAct=!0,this._baseStr=t,this._strArr=6==e?t.split(" "):t.split(""),this._curStr="",this._index=0,this._shinkTimes=0,this._deltaCount=0,this._deltaBaseCount=e,this._shinkCount=0)},e.prototype.update=function(){if(this._isAct){if(0==this._deltaCount){var t="";if(t=6==this._deltaBaseCount?""==this._curStr?this._strArr[this._index]:this._curStr.substr(0,this._curStr.length-1)+" "+this._strArr[this._index]:""==this._curStr?this._strArr[this._index]:this._curStr.substr(0,this._curStr.length-1)+this._strArr[this._index],this._curStr=t+".",this._lbl.string=" "+this._curStr,this._curStr.length==this._baseStr.length+1){this._isAct=!1,this._finishCall&&this._finishCall(this._pageIndex);var e=this._curStr.substr(0,this._curStr.length-1);return this._curStr=e+" ",void(this._lbl.string=" "+this._curStr)}this._index++,this._deltaCount=this._deltaBaseCount}else this._deltaCount--;0==this._shinkCount&&""!=this._curStr?(this._shinkTimes++,t=this._curStr.substr(0,this._curStr.length-1),this._shinkTimes%2==0?this._curStr=t+" ":this._curStr=t+".",this._lbl.string=" "+this._curStr+" ",this._shinkCount=20):this._shinkCount--}},a([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],vibrate:[function(t,e,o){"use strict";cc._RF.push(e,"d39954xg51HdKfjOGWM3+if","vibrate");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r,c=cc._decorator,s=c.ccclass,l=c.property,p=c.menu;(function(t){t[t.Normal=0]="Normal",t[t.Decrease=1]="Decrease"})(r||(r={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.Normal,e.time=1,e.range=2,e.power=3,e.isPlayedOnLoad=!1,e._isAct=!1,e._curTime=0,e._minRange=1,e._curRange=0,e._rangeRadio=0,e._curPower=0,e._power={1:19,2:17,3:15,4:13,5:11,6:9,7:7,8:5,9:3,10:1},e._initPos=cc.v2(),e._curPos=cc.v2(),e}return i(e,t),e.prototype.onLoad=function(){this._initPos=cc.v2(this.node.position)},e.prototype.start=function(){this.isPlayedOnLoad&&this.act()},e.prototype.act=function(){switch(this.node.initPos&&(this._initPos=this.node.initPos),this.type){case r.Normal:this._isAct=!0,this._curTime=this.time,this._curPower=this._power[this.power];break;case r.Decrease:this._isAct=!0,this._curTime=this.time,this._curPower=this._power[this.power],this._curRange=this.range,this._rangeRadio=(this._curRange-this._minRange)/(this.time*cc.game.getFrameRate()/this._curPower)}},e.prototype.update=function(t){if(this._isAct)if(this._curTime-=t,this._curPower>0)this._curPower--;else if(this._curTime>0){switch(this.type){case r.Normal:var e=Math.random()*this.range;e=e<this.range/2?this.range/2:e;var o=Math.random()*this.range;o=o<this.range/2?this.range/2:o,this._curPos=this._initPos.add(cc.v2(e,o)),this.node.setPosition(this._curPos);break;case r.Decrease:this._curPos=this._initPos.add(cc.v2(Math.random()*this._curRange,Math.random()*this._curRange)),this.node.setPosition(this._curPos),this._curRange-=this._rangeRadio,this._curRange=this._curRange<=this._minRange?this._minRange:this._curRange}this._curPower=this._power[this.power]}else this._isAct=!1,this.node.setPosition(this._initPos)},a([l({type:cc.Enum(r),tooltip:"振动方式: \n Normal: 正常幅度振动 \n Decrease: 递减模式振动"})],e.prototype,"type",void 0),a([l({tooltip:"振动时间"})],e.prototype,"time",void 0),a([l({tooltip:"振动幅度"})],e.prototype,"range",void 0),a([l({tooltip:"振动强度: 1 - 10   依次递增",min:1,max:10})],e.prototype,"power",void 0),a([l({tooltip:"是否加载后，直接播放"})],e.prototype,"isPlayedOnLoad",void 0),a([s,p("act/vibrate")],e)}(cc.Component);o.default=d,cc._RF.pop()},{}]},{},["AdChuanYin","AdCocos","AdCocosH5","AdCtrl","AdDob5","AdEvent","AdXiaoXiong","AdGoogleADM","AdTT","bg","box","character","characterCtr","common","ActionBase","FitNode","FrameRateSet","GAttr","GEnum","GraphicsBev","ProgressBev","RepeatMove","WallShake","AmnMove","MoveAct","NumGrowth","NumShake","RotateAct","ScaleAct","WaggleAct","pgAct","vibrate","testInspector","typewriter","continueLayer","dragonFish","flag","game","ghDraw","hall","amn_tail","barrier","barrier_arrow","item","itemAct","itemCtrl","prop","propAct","main","CommonAmn","CommonRes","DataManager","EventManager","GameCtr","LocalDBManager","PoolManager","ResManager","SoundManager","lvCtrl","msgTip","n_touch","pfb_shopItem","result","set","shop"]);